{"version":3,"sources":["webpack:///./src/views/project/ProjectCreateDialog.js","webpack:///src/views/project/ProjectCreateDialog.vue","webpack:///./src/views/project/ProjectCreateDialog.vue?d426","webpack:///./src/views/project/ProjectCreateDialog.vue","webpack:///src/views/project/ProjectList.vue","webpack:///./src/views/project/ProjectList.vue?cd8e","webpack:///./src/views/project/ProjectList.vue"],"names":["projectValidateRules","PBTitle","type","min","max","required","message","PBKey","pattern","trigger","PBPlatform","PBLead","Product","ruleCustom","extends_default","computed","Object","vuex_esm","methods","_this","this","_this2","result","FormItem","form_item","project_ProjectCreateDialog","render","_vm","_h","$createElement","_c","_self","attrs","value","projectCreateDialogShow","title","width","styles","bottom","top","on","on-ok","addProject","on-cancel","cancel","staticStyle","height","overflow-y","overflow-x","ref","model","formItem","label-width","rules","label","prop","placeholder","callback","$$v","$set","expression","_v","filterable","_l","platform","key","id","DicDataValue","_s","DicDataName","user","last_name","first_name","email","product","PTitle","span","offset","vertical","size","color","padding-left","slot","shape","click","$event","_e","staticRenderFns","views_project_ProjectCreateDialog","__webpack_require__","normalizeComponent","ProjectCreateDialog","ssrContext","ProjectList","initProjectDisplayStatus","projectSearchKey","projectAdded","loadProjectList","myProject","i","project_ProjectList","staticClass","style","projectContainerHeight","project","float","margin","bordered","text-align","href","src","PBAvatar","padding-top","ProjectList_Component","ProjectList_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"font/static/js/9.8ee33627a0dd125b75a0.js","sourcesContent":["//project validate rule\n\nlet projectValidateRules={\n  PBTitle: [\n    { type: 'string',min: 1, max: 50, required: true, message: '标题长度必须在1-50个字符！！' }\n  ],\n  PBKey: [\n    { type: 'string', required: true, min: 1, max: 10, pattern: /^[A-Z]+$/, message: 'Key必须是10个以内的大写英文字符！', trigger: 'blur' }\n  ],\n  PBPlatform: [\n    { type: 'integer', required: true,message: '请选择项目平台' }\n  ],\n  PBLead: [\n    { type: 'integer', required: true,message: '请选择项目负责人' }\n  ],\n  Product: [\n    { type: 'integer',required: true,message: '请选择产品线' }\n  ]\n}\n\nexport {\n  projectValidateRules\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/project/ProjectCreateDialog.js","<template>\n  <Modal :value=\"projectCreateDialogShow\" title=\"添加新项目\" :width=\"600\" @on-ok=\"addProject\" @on-cancel=\"cancel\"   :styles=\"{bottom:'20px',top: '50px'}\">\n    <div style=\"height:600px;overflow-y: scroll;overflow-x: hidden\">\n      <Form  ref=\"projectCreate\" :model=\"formItem\" :label-width=\"80\" :rules=\"ruleCustom\">\n        <FormItem label=\"项目名称\" prop=\"PBTitle\">\n          <Input v-model=\"formItem.PBTitle\" placeholder=\"项目名称1-50个字符\"/>\n        </FormItem>\n        <FormItem label=\"项目Key\" prop=\"PBKey\">\n          <Input v-model=\"formItem.PBKey\" placeholder=\"项目唯一标示，1-10英文字符\"/>\n        </FormItem>\n        <FormItem label=\"平台\" prop=\"PBPlatform\">\n          <Select v-model=\"formItem.PBPlatform\" :filterable=\"true\" placeholder=\"项目平台\">\n            <Option v-for=\"platform in platforms\" :key=\"platform.id\" :value=\"platform.DicDataValue\">{{ platform.DicDataName }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"负责人\" prop=\"PBLead\">\n          <Select v-model=\"formItem.PBLead\" :filterable=\"true\" placeholder=\"项目负责人\">\n            <Option v-for=\"user in userList\" :key=\"user.id\" :value=\"user.id\">{{ user.last_name }}{{ user.first_name }} ({{ user.email }})</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"产品线\" prop=\"Product\">\n          <Select v-model=\"formItem.Product\" :filterable=\"true\" placeholder=\"任务类型\">\n            <Option v-for=\"product in products\" :key=\"product.id\" :value=\"product.id\">{{ product.PTitle }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"可见性\" prop=\"PBVisiableLevel\">\n          <Row>\n            <Col span=\"8\" offset=\"0\">\n            <RadioGroup v-model=\"formItem.PBVisiableLevel\" vertical>\n              <Radio :label=\"1\">\n                <Icon type=\"locked\" :size=\"20\" ></Icon>\n                <span>私有</span>\n                <span style=\"color:#737373;padding-left: 20px;\">项目仅自己可见</span>\n              </Radio>\n              <Radio :label=\"2\">\n                <Icon type=\"contrast\" :size=\"20\"></Icon>\n                <span>内部</span>\n                <span style=\"color:#737373;padding-left: 20px;\">项目可以被同组成员看到</span>\n              </Radio>\n              <Radio :label=\"3\">\n                <Icon type=\"ios-world\" :size=\"20\"></Icon>\n                <span>公开</span>\n                <span style=\"color:#737373;padding-left: 20px;\"  >项目对所有人员可见</span>\n              </Radio>\n            </RadioGroup>\n            </Col>\n          </Row>\n        </FormItem>\n      </Form>\n    </div>\n    <div slot=\"footer\">\n      <Button v-if=\"projectCreateDialogShow\" type=\"success\"  style=\"width: 80px; height:30px;\" shape=\"circle\" @click=\"addProject('projectCreate')\">添加</Button>\n      <!--<Button type=\"ghost\"  style=\"width: 80px; height:30px;\"  shape=\"circle\" @click=\"cancel\">取消</Button>-->\n    </div>\n</Modal>\n</template>\n\n<script>\nimport { mapGetters,mapMutations } from 'vuex'\nimport { projectValidateRules } from './ProjectCreateDialog'\nimport FormItem from '../../../node_modules/iview/src/components/form/form-item.vue'\n\n  export default {\n    name: 'ProjectCreateDialog',\n    data () {\n      return {\n        userList: [],\n        platforms: [],\n        products: [],\n        formItem: {\n          PBTitle: '',\n          PBKey: '',\n          PBLead: 1,\n          PBPlatform: 1,\n          Product: 1,\n          PBVisiableLevel: 1,\n          PBCreator: 0\n        },\n        ruleCustom: {\n          ...projectValidateRules\n        }\n      }\n\n    },\n    computed: {\n      ...mapGetters('project',['projectCreateDialogShow']),\n    },\n    methods:\n      {\n        ...mapMutations('project', ['setProjectCreateDialogShow', 'setProjectAdded']),\n        addProject (name) {\n          this.$refs[name].validate((valid) => {\n            if (valid) {\n              this.$axios.post('/api/project/list', this.formItem).then(response => {\n                this.setProjectCreateDialogShow(false)\n                this.setProjectAdded(true)\n              }, response => {\n                this.setProjectCreateDialogShow(false)\n                this.$Message.error({\n                  content: '创建项目失败，请联系管理员或者重试',\n                  duration: 10\n                })\n              })\n\n            }\n          })\n        },\n        cancel () {\n          this.setProjectCreateDialogShow(false)\n        },\n      },\n    created () {\n      this.$axios.get('/api/common/dicconfig/5/dicconfigs').then(response => {\n        this.platforms=response.data.result\n      }, response => {\n        // error callback\n      })\n\n      this.$axios.get('/api/common/users/list').then(response => {\n        this.userList=response.data.result\n      }, response => {\n        // error callback\n      })\n\n      this.$axios.get('/api/project/products').then(response => {\n        this.products=response.data.result\n      }, response => {\n        // error callback\n      })\n\n    },\n    mounted () {\n\n    },\n    watch: {\n\n    },\n    components: {\n      FormItem\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/project/ProjectCreateDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"value\":_vm.projectCreateDialogShow,\"title\":\"添加新项目\",\"width\":600,\"styles\":{bottom:'20px',top: '50px'}},on:{\"on-ok\":_vm.addProject,\"on-cancel\":_vm.cancel}},[_c('div',{staticStyle:{\"height\":\"600px\",\"overflow-y\":\"scroll\",\"overflow-x\":\"hidden\"}},[_c('Form',{ref:\"projectCreate\",attrs:{\"model\":_vm.formItem,\"label-width\":80,\"rules\":_vm.ruleCustom}},[_c('FormItem',{attrs:{\"label\":\"项目名称\",\"prop\":\"PBTitle\"}},[_c('Input',{attrs:{\"placeholder\":\"项目名称1-50个字符\"},model:{value:(_vm.formItem.PBTitle),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBTitle\", $$v)},expression:\"formItem.PBTitle\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"项目Key\",\"prop\":\"PBKey\"}},[_c('Input',{attrs:{\"placeholder\":\"项目唯一标示，1-10英文字符\"},model:{value:(_vm.formItem.PBKey),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBKey\", $$v)},expression:\"formItem.PBKey\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"平台\",\"prop\":\"PBPlatform\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"项目平台\"},model:{value:(_vm.formItem.PBPlatform),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBPlatform\", $$v)},expression:\"formItem.PBPlatform\"}},_vm._l((_vm.platforms),function(platform){return _c('Option',{key:platform.id,attrs:{\"value\":platform.DicDataValue}},[_vm._v(_vm._s(platform.DicDataName))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"负责人\",\"prop\":\"PBLead\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"项目负责人\"},model:{value:(_vm.formItem.PBLead),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBLead\", $$v)},expression:\"formItem.PBLead\"}},_vm._l((_vm.userList),function(user){return _c('Option',{key:user.id,attrs:{\"value\":user.id}},[_vm._v(_vm._s(user.last_name)+_vm._s(user.first_name)+\" (\"+_vm._s(user.email)+\")\")])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"产品线\",\"prop\":\"Product\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"任务类型\"},model:{value:(_vm.formItem.Product),callback:function ($$v) {_vm.$set(_vm.formItem, \"Product\", $$v)},expression:\"formItem.Product\"}},_vm._l((_vm.products),function(product){return _c('Option',{key:product.id,attrs:{\"value\":product.id}},[_vm._v(_vm._s(product.PTitle))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"可见性\",\"prop\":\"PBVisiableLevel\"}},[_c('Row',[_c('Col',{attrs:{\"span\":\"8\",\"offset\":\"0\"}},[_c('RadioGroup',{attrs:{\"vertical\":\"\"},model:{value:(_vm.formItem.PBVisiableLevel),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBVisiableLevel\", $$v)},expression:\"formItem.PBVisiableLevel\"}},[_c('Radio',{attrs:{\"label\":1}},[_c('Icon',{attrs:{\"type\":\"locked\",\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(\"私有\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#737373\",\"padding-left\":\"20px\"}},[_vm._v(\"项目仅自己可见\")])],1),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":2}},[_c('Icon',{attrs:{\"type\":\"contrast\",\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(\"内部\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#737373\",\"padding-left\":\"20px\"}},[_vm._v(\"项目可以被同组成员看到\")])],1),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":3}},[_c('Icon',{attrs:{\"type\":\"ios-world\",\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(\"公开\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#737373\",\"padding-left\":\"20px\"}},[_vm._v(\"项目对所有人员可见\")])],1)],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.projectCreateDialogShow)?_c('Button',{staticStyle:{\"width\":\"80px\",\"height\":\"30px\"},attrs:{\"type\":\"success\",\"shape\":\"circle\"},on:{\"click\":function($event){_vm.addProject('projectCreate')}}},[_vm._v(\"添加\")]):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f194a2b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/project/ProjectCreateDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f194a2b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProjectCreateDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectCreateDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectCreateDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f194a2b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProjectCreateDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f194a2b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/project/ProjectCreateDialog.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"layout-content portal-list-container\" :style=\"'height:'+ projectContainerHeight +'px;'+' overflow-y: scroll'\">\n        <Card   v-for=\"project in myProjectList\" v-if=\"project.Display\" :key=\"project.id\" style=\" width:230px;height:180px;float:left;margin:20px;\" :bordered=\"false\">\n          <div style=\"text-align:center;height:110px;\">\n            <a :href=\"'/project/'+ project.id +'/issue/all'\">\n              <img :src=\"'' + project.PBAvatar\" class=\"project_icon\">\n            </a>\n          </div>\n          <div><div style=\"padding-top: 10px;color:#333;text-align: center\">{{ project.PBTitle }}</div></div>\n        </Card>\n        <project-create-dialog></project-create-dialog>\n  </div>\n</template>\n\n<script>\n  import store from '../../store/index.js'\n  import { mapGetters,mapMutations} from 'vuex'\n  import ProjectCreateDialog from './ProjectCreateDialog.vue'\n\n  export default {\n    name: 'projectList',\n    data () {\n      return {\n        myProject:[]\n      }\n    },\n    computed: {\n      ...mapGetters(['appBodyHeight']),\n      ...mapGetters('project',['projectSearchKey','projectAdded']),\n      projectContainerHeight: function () {\n        return this.appBodyHeight-20\n      },\n      myProjectList: function () {\n        if(this.projectSearchKey === '')\n        {\n           this.initProjectDisplayStatus()\n        }\n        else{\n           this.filterProjectList(this.projectSearchKey)\n        }\n\n        if(this.projectAdded)\n        {\n          this.loadProjectList()\n          this.setProjectAdded(false)\n        }\n        return this.myProject\n      }\n    },\n    methods: {\n      ...mapMutations('project', ['setProjectAdded']),\n\n      filterProjectList: function (value) {\n        this.initProjectDisplayStatus()\n        for(let i=0; i<this.myProject.length;i++)\n        {\n          let temp = this.myProject[i]\n          if(temp.PBTitle.toUpperCase().indexOf(value.toUpperCase())<0)\n          {\n            temp.Display = false\n          }\n        }\n      },\n      initProjectDisplayStatus: function () {\n        for(let i=0; i<this.myProject.length;i++)\n        {\n          this.myProject[i].Display = true\n        }\n      },\n\n      loadProjectList: function () {\n        this.$axios.get('/api/project/list?extinfo=0&home=1').then(response => {\n          this.myProject = response.data.result\n        }, response => {\n          this.setTaskChange(true)\n\n        })\n      }\n    },\n    created: function () {\n     this.loadProjectList()\n\n    },\n    components: {ProjectCreateDialog}\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  @import \"../../../src/assets/teamcat/global/less/common_controlls\";\n\n  .project_icon\n  {\n    width:80%;\n    height:80px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/project/ProjectList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-content portal-list-container\",style:('height:'+ _vm.projectContainerHeight +'px;'+' overflow-y: scroll')},[_vm._l((_vm.myProjectList),function(project){return (project.Display)?_c('Card',{key:project.id,staticStyle:{\"width\":\"230px\",\"height\":\"180px\",\"float\":\"left\",\"margin\":\"20px\"},attrs:{\"bordered\":false}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"height\":\"110px\"}},[_c('a',{attrs:{\"href\":'/project/'+ project.id +'/issue/all'}},[_c('img',{staticClass:\"project_icon\",attrs:{\"src\":'' + project.PBAvatar}})])]),_vm._v(\" \"),_c('div',[_c('div',{staticStyle:{\"padding-top\":\"10px\",\"color\":\"#333\",\"text-align\":\"center\"}},[_vm._v(_vm._s(project.PBTitle))])])]):_vm._e()}),_vm._v(\" \"),_c('project-create-dialog')],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6acd8ff9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/project/ProjectList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6acd8ff9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProjectList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6acd8ff9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProjectList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6acd8ff9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/project/ProjectList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}