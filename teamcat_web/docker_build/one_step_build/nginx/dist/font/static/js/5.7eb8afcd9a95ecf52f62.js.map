{"version":3,"sources":["webpack:///src/views/ci/citask/CITaskItem.vue","webpack:///./src/views/ci/citask/CITaskItem.vue?8c9c","webpack:///./src/views/ci/citask/CITaskItem.vue","webpack:///src/views/ci/citaskflow/ci_task_flow_item/CITaskFlowItem.vue","webpack:///./src/views/ci/citaskflow/ci_task_flow_item/CITaskFlowItem.vue?5872","webpack:///./src/views/ci/citaskflow/ci_task_flow_item/CITaskFlowItem.vue","webpack:///src/views/ci/citaskflow/CITaskFlow.vue","webpack:///./src/views/ci/citaskflow/CITaskFlow.vue?898d","webpack:///./src/views/ci/citaskflow/CITaskFlow.vue","webpack:///src/views/ci/agent/CILogShowDialog.vue","webpack:///./src/views/ci/agent/CILogShowDialog.vue?5853","webpack:///./src/views/ci/agent/CILogShowDialog.vue","webpack:///src/views/ci/agent/CIAgent.vue","webpack:///./src/views/ci/agent/CIAgent.vue?9b09","webpack:///./src/views/ci/agent/CIAgent.vue","webpack:///src/views/ci/citask/CITask.vue","webpack:///./src/views/ci/citask/CITask.vue?3c7b","webpack:///./src/views/ci/citask/CITask.vue","webpack:///./src/views/ci/citask/CITaskCreateDialog.js","webpack:///src/views/ci/citask/CITaskCreateDialog.vue","webpack:///./src/views/ci/citask/CITaskCreateDialog.vue?04ed","webpack:///./src/views/ci/citask/CITaskCreateDialog.vue","webpack:///./src/views/ci/citaskflow/CITaskFlowCreateDialog.js","webpack:///src/views/ci/citaskflow/CITaskFlowCreateDialog.vue","webpack:///./src/views/ci/citaskflow/CITaskFlowCreateDialog.vue?8f59","webpack:///./src/views/ci/citaskflow/CITaskFlowCreateDialog.vue","webpack:///src/views/ci/CI.vue","webpack:///./src/views/ci/CI.vue?29d7","webpack:///./src/views/ci/CI.vue"],"names":["citask_CITaskItem","render","_vm","this","_h","$createElement","_c","_self","item","staticClass","attrs","bordered","staticStyle","color","text-decoration","href","TaskHistoryURI","_v","_s","TaskName","padding-right","TaskConfigURI","margin-left","type","size","width","display","text-align","margin-top","LastRunStatus","_e","LastRunTime","ParameterGroups","length","trigger","on","on-click","onDPItemClick","padding","shape","max-height","overflow-y","top","slot","_l","dpitem","key","id","name","title","click","$event","onBuildClick","staticRenderFns","Component","__webpack_require__","normalizeComponent","_this","message","_this2","ssrContext","__webpack_exports__","computed","extends_default","Object","vuex_esm","appBodyHeight","flowID","currentSection","methods","result","sectionID","evt","toID","fromID","itemID","toSection","fromSection","response","commandParameter","SectionName","_this3","taskFlowID","_this4","i","value","SectionCreateDialog","CISectionAddDialog","ciTaskItem","CITaskItem","FlowSection","CITaskFlowSection","TaskAddToSectionDialog","SectionTaskAddDialog","ci_task_flow_item_CITaskFlowItem","style","taskContainerHeight","taskFlow","section","columnID","group","itemList","Tasks","columnTitle","dishover","shadow","update:itemList","$set","end","onEnd","reachBottom","onReachBottom","scopedSlots","_u","fn","slotProps","element","dis-hover","border","background-color","margin-right","SectionIndex","font-size","editSection","flowContextMenuClick","height","padding-top","CITaskFlowItem","CITaskFlow","ciTaskFlowAdded","loadTaskFlows","taskFlows","flowName","editFlow","results","FlowName","_this5","citaskflow_CITaskFlow","argin-right","padding-left","maxlength","autofocus","on-blur","flowNameEditComplete","model","callback","$$v","expression","content","onStartTaskFlow","lastRunTime","ci_citaskflow_CITaskFlow","ciLogDialogShow","log","scrollToBottom","scrollHeight","close","PreLog","agent_CILogShowDialog","dialogShow","styles","bottom","on-visible-change","showLogInfo","on-cancel","cancel","taskID","overflow-x","word-break","onViewOldLog","domProps","innerHTML","preLog","ci_agent_CILogShowDialog","CILogShowDialog_normalizeComponent","CILogShowDialog","CIAgent","taskUUID","tqID","loadTaskQueue","loadAgent","onReciveTaskStatusChange","agent_CIAgent","queue","TaskUUID","border-bottom","overflow","text-overflow","white-space","TriggerName","cancleTask","TaskID","agent","RunningTasks","Status","Name","task","percent","Process","stroke-width","status","hide-info","showCILog","TQID","ci_agent_CIAgent","CIAgent_normalizeComponent","CITask","count","initCITaskStatus","ciTaskSearchKey","ciTaskAdded","loadCITaskList","myCITask","next","hide","show","citask_CITask","myCITaskList","ci_citask_CITask","CITask_normalizeComponent","ciTaskValidateRules","Project","required","min","max","TaskType","CopyTaskID","ruleCustom","loadMyProject","loadMyCITasks","FormItem","form_item","citask_CITaskCreateDialog","ciTaskCreateDialogShow","ref","formItem","label-width","rules","label","prop","filterable","placeholder","project","src","PBAvatar","PBTitle","on-change","onTaskTypeChange","addCITask","ci_citask_CITaskCreateDialog","CITaskCreateDialog_normalizeComponent","CITaskCreateDialog","ciTaskFlowValidateRules","Description","newTargetKeys","loadFlowCITasks","citaskflow_CITaskFlowCreateDialog","ciTaskFlowCreateDialogShow","data","ciTaskTransfer","ciTasks","target-keys","targetKeys","render-format","transferRender","filter-method","transferFilterMethod","titles","list-style","listStyle","moveCITasks","addCITaskFlow","ci_citaskflow_CITaskFlowCreateDialog","CITaskFlowCreateDialog_normalizeComponent","CITaskFlowCreateDialog","ciAgent","ciTaskFlow","ciTask","ciTaskFlowItem","ci_CI","gutter","lg","md","sm","xs","menuItem","agentContainerHeight","CI_Component","CI_normalizeComponent","CI"],"mappings":"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","file":"font/static/js/5.7eb8afcd9a95ecf52f62.js","sourcesContent":["<template>\n  <div>\n  <Card class=\"citask-card\" v-if=\"item.Display\" :bordered=\"false\">\n    <div class=\"citask-card-title\">\n      <a style=\"color: inherit;text-decoration:underline;\" :href=\"item.TaskHistoryURI\">\n        {{ item.TaskName }}\n      </a>\n      <span class=\"pull-right\" style=\"padding-right: 10px\">\n          <a :href=\"item.TaskConfigURI\"><Icon type=\"ios-settings\" :size=\"18\" color=\"#555\" style=\"margin-left: 10px;\"></Icon></a>\n      </span>\n    </div>\n    <div class=\"citask-card-body\">\n        <span style=\"width: 220px;display: inline-block;text-align: left\">\n          <span style=\"margin-top: 25px;margin-left: 0px;\">\n            <Icon v-if=\"item.LastRunStatus ===1\" type=\"ios-checkmark-circle\" style=\"color:#388e83\"></Icon>\n            <Icon v-if=\"item.LastRunStatus ===2\" type=\"ios-close-circle\" style=\"color:darkred\"></Icon>\n            <Icon v-if=\"item.LastRunStatus ===3\" type=\"ios-remove-circle\" style=\"color:olive\"></Icon>\n            {{ item.LastRunTime }} </span>\n        </span>\n      <span style=\"width:80px;margin-top:25px; display: inline-block\">\n        <Dropdown v-if=\"item.ParameterGroups.length > 0\" trigger=\"click\" @on-click=\"onDPItemClick\" >\n          <Button type=\"default\"  shape=\"circle\" style=\"padding: 3px 15px;\">\n            构建\n            <Icon type=\"md-arrow-dropdown\" />\n          </Button>\n         <DropdownMenu slot=\"list\" style=\"max-height: 500px;overflow-y: scroll;top:0px;\">\n            <DropdownItem v-for=\"dpitem in item.ParameterGroups\" :key=\"dpitem.id\" :name=\"dpitem.id+','+item.id\" ><Icon v-if=\"dpitem.default\" type=\"checkmark-round\"></Icon> {{ dpitem.title }}</DropdownItem>\n         </DropdownMenu>\n         </Dropdown>\n          <Button v-if=\"item.ParameterGroups.length ===0\" type=\"default\"  shape=\"circle\" @click=\"onBuildClick(item.id)\" style=\"padding: 3px 15px;\">\n            构建\n        </Button>\n        </span>\n    </div>\n\n  </Card>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'ciTaskItem',\n    props: ['item'],\n    data () {\n      return {\n        msg: ''\n      }\n    },\n    methods: {\n      onDPItemClick (itemID) {\n        let taskStartParameters = itemID.split(',')\n        this.$axios.get('/api/ci/task_basic/' + taskStartParameters[1] + '/start/?BuildParameter=' + taskStartParameters[0]).then(response => {\n          this.$Message.success({\n            content: response.data.result.message,\n            duration: 10\n          })\n        }, response => {\n          this.$Message.error({\n            content: response.data.result.message,\n            duration: 10\n          })\n        })\n      },\n      onBuildClick (taskID) {\n        this.$axios.get('/api/ci/task_basic/' + taskID + '/start/').then(response => {\n          this.$Message.success({\n            content: response.data.result.message,\n            duration: 10\n          })\n        }, response => {\n          this.$Message.error({\n            content: response.data.result.message,\n            duration: 10\n          })\n        })\n      },\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  .citask-card{\n    width: 350px;\n    height: 100px;\n    float: left;\n    margin-left: 10px;\n    margin-top: 10px;\n  }\n  .citask-card-title\n  {\n    margin-left: -16px;\n    margin-right: -16px;\n    margin-top: -10px;\n    padding: 0px;\n    padding-left: 15px;\n    height: 30px;\n    text-align: left;\n    border-bottom: 1px solid #f5f7f9\n  }\n  .citask-card-body{\n\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/citask/CITaskItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.item.Display)?_c('Card',{staticClass:\"citask-card\",attrs:{\"bordered\":false}},[_c('div',{staticClass:\"citask-card-title\"},[_c('a',{staticStyle:{\"color\":\"inherit\",\"text-decoration\":\"underline\"},attrs:{\"href\":_vm.item.TaskHistoryURI}},[_vm._v(\"\\n      \"+_vm._s(_vm.item.TaskName)+\"\\n    \")]),_vm._v(\" \"),_c('span',{staticClass:\"pull-right\",staticStyle:{\"padding-right\":\"10px\"}},[_c('a',{attrs:{\"href\":_vm.item.TaskConfigURI}},[_c('Icon',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"ios-settings\",\"size\":18,\"color\":\"#555\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"citask-card-body\"},[_c('span',{staticStyle:{\"width\":\"220px\",\"display\":\"inline-block\",\"text-align\":\"left\"}},[_c('span',{staticStyle:{\"margin-top\":\"25px\",\"margin-left\":\"0px\"}},[(_vm.item.LastRunStatus ===1)?_c('Icon',{staticStyle:{\"color\":\"#388e83\"},attrs:{\"type\":\"ios-checkmark-circle\"}}):_vm._e(),_vm._v(\" \"),(_vm.item.LastRunStatus ===2)?_c('Icon',{staticStyle:{\"color\":\"darkred\"},attrs:{\"type\":\"ios-close-circle\"}}):_vm._e(),_vm._v(\" \"),(_vm.item.LastRunStatus ===3)?_c('Icon',{staticStyle:{\"color\":\"olive\"},attrs:{\"type\":\"ios-remove-circle\"}}):_vm._e(),_vm._v(\"\\n          \"+_vm._s(_vm.item.LastRunTime)+\" \")],1)]),_vm._v(\" \"),_c('span',{staticStyle:{\"width\":\"80px\",\"margin-top\":\"25px\",\"display\":\"inline-block\"}},[(_vm.item.ParameterGroups.length > 0)?_c('Dropdown',{attrs:{\"trigger\":\"click\"},on:{\"on-click\":_vm.onDPItemClick}},[_c('Button',{staticStyle:{\"padding\":\"3px 15px\"},attrs:{\"type\":\"default\",\"shape\":\"circle\"}},[_vm._v(\"\\n          构建\\n          \"),_c('Icon',{attrs:{\"type\":\"md-arrow-dropdown\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{staticStyle:{\"max-height\":\"500px\",\"overflow-y\":\"scroll\",\"top\":\"0px\"},attrs:{\"slot\":\"list\"},slot:\"list\"},_vm._l((_vm.item.ParameterGroups),function(dpitem){return _c('DropdownItem',{key:dpitem.id,attrs:{\"name\":dpitem.id+','+_vm.item.id}},[(dpitem.default)?_c('Icon',{attrs:{\"type\":\"checkmark-round\"}}):_vm._e(),_vm._v(\" \"+_vm._s(dpitem.title))],1)}))],1):_vm._e(),_vm._v(\" \"),(_vm.item.ParameterGroups.length ===0)?_c('Button',{staticStyle:{\"padding\":\"3px 15px\"},attrs:{\"type\":\"default\",\"shape\":\"circle\"},on:{\"click\":function($event){_vm.onBuildClick(_vm.item.id)}}},[_vm._v(\"\\n          构建\\n      \")]):_vm._e()],1)])]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51a23638\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/citask/CITaskItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51a23638\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CITaskItem.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51a23638\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CITaskItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-51a23638\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/citask/CITaskItem.vue\n// module id = null\n// module chunks = ","<template>\n  <div :style=\"'height:'+taskContainerHeight+'px'+'; overflow-y:scroll;padding-left:10px;padding-right:10px;'\">\n    <flow-section v-for=\"section in taskFlow.Sections\" :key=\"section.id\" :columnID=\"section.id\" :group=\"taskFlowID\"\n                  v-bind:itemList.sync=\"section.Tasks\" :columnTitle=\"section.SectionName\" :dishover=\"false\" :shadow=\"false\" :bordered=\"true\"\n                  style=\"margin-left: 10px;\" @end=\"onEnd\" @reachBottom=\"onReachBottom\">\n      <Card  slot='column-header' :bordered=\"false\" :shadow=\"false\" :dis-hover=\"true\" class=\"board-column-title\">\n        <span><Avatar size=\"small\" style=\"border: 1px solid black;background-color: #f5f7f9;color: #5f5f5f;margin-right: 10px;\">{{ section.SectionIndex }}</Avatar>  <span style=\"font-size: 16px;\">{{ section.SectionName }}</span>\n        </span>\n        <span class=\"pull-left cursor-hand\" @click=\"editSection(section.id)\" >\n          <Icon v-if=\"section.Tasks.length<1\" type=\"md-add\" :size=\"16\" color=\"#388e83\" />\n          <Icon v-if=\"section.Tasks.length>0\" type=\"ios-create-outline\" :size=\"16\" color=\"#388e83\"/>\n        </span>\n        <span class=\"pull-right cursor-hand\" style=\"color:#5f5f5f;margin-right: -6px;\">\n          <Dropdown @on-click=\"flowContextMenuClick\">\n        <i class=\"fa fa-bars fa-fw\"></i>\n        <DropdownMenu slot=\"list\">\n            <DropdownItem :name=\"'start:'+section.id\" style=\"height: 20px;padding-top: 2px;text-align: left\">\n              <span style=\"margin-right: 5px;\">\n                <Icon type=\"md-play\"></Icon>\n              </span>\n              <span>执行</span>\n            </DropdownItem>\n            <DropdownItem :name=\"'rename:'+section.id\" style=\"height: 20px;padding-top: 2px;text-align: left\">\n              <span style=\"margin-right: 5px;\">\n                <Icon type=\"md-create\"></Icon>\n              </span>\n              <span>重命名</span>\n            </DropdownItem>\n             <DropdownItem :name=\"'delete:'+section.id\" style=\"height: 20px;padding-top: 2px; text-align: left\">\n              <span style=\"margin-right: 5px;\">\n                <Icon type=\"ios-trash\"></Icon>\n              </span>\n\n              <span>删除</span>\n            </DropdownItem>\n        </DropdownMenu>\n    </Dropdown>\n        </span>\n      </Card>\n      <template slot-scope=\"slotProps\">\n        <ci-task-item :item=\"slotProps.element\"></ci-task-item>\n      </template>\n    </flow-section>\n    <section-create-dialog :flowID=\"taskFlowID\" :sectionID=\"sectionID\"></section-create-dialog>\n    <task-add-to-section-dialog :sectionID=\"sectionID\" ></task-add-to-section-dialog>\n  </div>\n</template>\n\n<script>\n  import store from '../../../../store/index.js'\n  import { mapGetters, mapMutations} from 'vuex'\n  import SectionCreateDialog from './CISectionAddDialog.vue'\n  import TaskAddToSectionDialog from './SectionTaskAddDialog.vue'\n  import ciTaskItem from '../../citask/CITaskItem.vue'\n  import FlowSection from './CITaskFlowSection.vue'\n  export default {\n    name: 'ciTaskFlowItem',\n    props: ['flowID'],\n    data () {\n      return {\n         taskFlow: {\n         },\n        currentSection: 0,\n      }\n    },\n    computed: {\n        ...mapGetters('citaskflow', ['addedSection','ciTaskAddedToSection','sectionRenamed']),\n      ...mapGetters(['appBodyHeight']),\n      taskContainerHeight: function () {\n        return  this.appBodyHeight\n      },\n      taskFlowID: function () {\n        if(this.flowID+'' === 'undefined')\n        {\n          return 0\n        }\n        else\n        {\n          return this.flowID\n        }\n\n      },\n      sectionID: function () {\n        return this.currentSection\n      }\n\n    },\n    methods: {\n      ...mapMutations('citaskflow', ['setAddedSection','setAddedSectionDialogShow','setSectionRenamed','setRenameSectionDialogShow','setCITaskAddedToSectionDialogShow','setCITaskAddedToSection']),\n      loadFlowTasks: function (flowID) {\n        if(flowID+'' !=='0') {\n          this.$axios.get('/api/ci/task_flow/' + flowID + '/').then(response => {\n            this.taskFlow = response.data.result\n          }, response => {\n          })\n        }\n      },\n\n      editSection: function (sectionID) {\n        this.currentSection = sectionID\n        this.setCITaskAddedToSectionDialogShow(true)\n      },\n\n      onReachBottom (columnid) {\n      },\n\n      onEnd (evt) {\n        console.log(evt)\n        let toID = evt.to.getAttribute('id')\n        let fromID = evt.from.getAttribute('id')\n        let itemID = evt.item.getAttribute('id')\n        let itemOldIndex = evt.oldIndex\n//        let itemNewIndex = evt.newIndex\n        let toSection = this.findSection(toID)\n        let fromSection = this.findSection(fromID)\n        toSection.CITaskIDs.push(itemID)\n        fromSection.CITaskIDs.splice(itemOldIndex,1)\n        console.log(toSection)\n        console.log(fromSection)\n        this.$axios.patch('/api/ci/task_flow/section/'+toID,{'CITasks': toSection.CITaskIDs.toString()}).then(response => {\n          console.log(response)\n        }, response => {\n        })\n\n        this.$axios.patch('/api/ci/task_flow/section/'+fromID,{'CITasks': fromSection.CITaskIDs.toString()}).then(response => {\n          console.log(response)\n        }, response => {\n        })\n\n      },\n\n      flowContextMenuClick: function (itemCommand) {\n        let commandArray = itemCommand.split(':')\n        let command = commandArray[0]\n        let commandParameter = commandArray[1]\n        this.currentSection = commandParameter\n        if(command === 'rename')\n        {\n          this.setRenameSectionDialogShow(true)\n        }\n\n        if(command === 'start')\n        {\n          this.startSection(commandParameter)\n        }\n\n        if(command === 'delete')\n        {\n          let sectionName = this.findSection(commandParameter).SectionName\n          this.$Modal.confirm({\n            title: '删除确认',\n            content: '<p>删除是危险操作，确认要删除任务阶段 ['+sectionName+' ] 吗？</p>',\n            onOk: () => {\n              this.deleteFlowSection(commandParameter)\n            },\n            onCancel: () => {\n            }\n          })\n\n        }\n      },\n\n      deleteFlowSection: function (sectionid) {\n        this.$axios.delete('/api/ci/task_flow/section/' + sectionid).then(response => {\n          this.loadFlowTasks(this.taskFlowID)\n        }, response => {\n          // error callback\n        })\n      },\n\n      startSection: function (sectionid) {\n        this.$axios.get('/api/ci/flow_section/' + sectionid+'/start/').then(response => {\n          this.$Message.success({\n            content: response.data.result.message,\n            duration: 10\n          })\n        }, response => {\n          // error callback\n        })\n      },\n\n      findSection: function (sectionID) {\n        let result = null\n        for(let i=0;i<this.taskFlow.Sections.length; i++)\n        {\n          if(this.taskFlow.Sections[i].id+''=== sectionID)\n          {\n            result = this.taskFlow.Sections[i]\n            break\n          }\n        }\n        return result\n      },\n\n    },\n\n    created: function () {\n      this.loadFlowTasks(this.taskFlowID)\n    },\n\n    watch: {\n      addedSection: function (value) {\n        if (value)\n        {\n          this.loadFlowTasks(this.taskFlowID)\n          this.setAddedSection(false)\n        }\n      },\n\n      sectionRenamed: function (value) {\n        if (value)\n        {\n          this.loadFlowTasks(this.taskFlowID)\n          this.setSectionRenamed(false)\n        }\n      },\n\n      ciTaskAddedToSection: function (value) {\n     if (value)\n      {\n         this.loadFlowTasks(this.taskFlowID)\n        this.setCITaskAddedToSection(false)\n      }\n     },\n\n      taskFlowID: function () {\n        this.loadFlowTasks(this.taskFlowID)\n      }\n    },\n\n    components: {\n      SectionCreateDialog,\n      ciTaskItem,\n      FlowSection,\n      TaskAddToSectionDialog\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  .env_archive_folder\n  {\n    border:1px solid #f0f0f0;\n    width:250px;\n    height:150px;\n    margin:10px 10px 10px 30px;\n    border-radius:5px;\n    cursor:pointer;\n    float: left;\n    padding:0px;\n  }\n\n  .env_archive_folder_header\n  {\n    height:0px;\n  }\n\n  .env_archive_folder_body\n  {\n    height:90px;\n  }\n\n  .env_archive_folder_body center\n  {\n    padding-top: 10px;\n    color:#d3d7d4;\n  }\n\n  .env_archive_folder_footer\n  {\n    border-top:1px solid #f0f0f0;\n    height:50px;\n  }\n\n  .env_archive_folder_version\n  {\n    padding:10px 5px 5px 5px;\n    font-size: 14px;\n    color: black;\n    overflow:hidden;\n\n  }\n\n  .env_archive_version_file\n  {\n    padding:5px 5px 0px 5px;\n    font-size: 14px;\n    color: black;\n    overflow:hidden;\n\n  }\n\n  .task-flow-title{\n    height: 80px;\n    width: 80px;\n    line-height: 80px;\n    display:inline-block;\n    color: #5e5e5e;\n    text-align:center;\n  }\n\n  .board-column-title{\n    background: #f5f7f9;\n    margin-top:-15px;\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/citaskflow/ci_task_flow_item/CITaskFlowItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:('height:'+_vm.taskContainerHeight+'px'+'; overflow-y:scroll;padding-left:10px;padding-right:10px;')},[_vm._l((_vm.taskFlow.Sections),function(section){return _c('flow-section',{key:section.id,staticStyle:{\"margin-left\":\"10px\"},attrs:{\"columnID\":section.id,\"group\":_vm.taskFlowID,\"itemList\":section.Tasks,\"columnTitle\":section.SectionName,\"dishover\":false,\"shadow\":false,\"bordered\":true},on:{\"update:itemList\":function($event){_vm.$set(section, \"Tasks\", $event)},\"end\":_vm.onEnd,\"reachBottom\":_vm.onReachBottom},scopedSlots:_vm._u([{key:\"default\",fn:function(slotProps){return [_c('ci-task-item',{attrs:{\"item\":slotProps.element}})]}}])},[_c('Card',{staticClass:\"board-column-title\",attrs:{\"slot\":\"column-header\",\"bordered\":false,\"shadow\":false,\"dis-hover\":true},slot:\"column-header\"},[_c('span',[_c('Avatar',{staticStyle:{\"border\":\"1px solid black\",\"background-color\":\"#f5f7f9\",\"color\":\"#5f5f5f\",\"margin-right\":\"10px\"},attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(section.SectionIndex))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(_vm._s(section.SectionName))])],1),_vm._v(\" \"),_c('span',{staticClass:\"pull-left cursor-hand\",on:{\"click\":function($event){_vm.editSection(section.id)}}},[(section.Tasks.length<1)?_c('Icon',{attrs:{\"type\":\"md-add\",\"size\":16,\"color\":\"#388e83\"}}):_vm._e(),_vm._v(\" \"),(section.Tasks.length>0)?_c('Icon',{attrs:{\"type\":\"ios-create-outline\",\"size\":16,\"color\":\"#388e83\"}}):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"pull-right cursor-hand\",staticStyle:{\"color\":\"#5f5f5f\",\"margin-right\":\"-6px\"}},[_c('Dropdown',{on:{\"on-click\":_vm.flowContextMenuClick}},[_c('i',{staticClass:\"fa fa-bars fa-fw\"}),_vm._v(\" \"),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{staticStyle:{\"height\":\"20px\",\"padding-top\":\"2px\",\"text-align\":\"left\"},attrs:{\"name\":'start:'+section.id}},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('Icon',{attrs:{\"type\":\"md-play\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\"执行\")])]),_vm._v(\" \"),_c('DropdownItem',{staticStyle:{\"height\":\"20px\",\"padding-top\":\"2px\",\"text-align\":\"left\"},attrs:{\"name\":'rename:'+section.id}},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('Icon',{attrs:{\"type\":\"md-create\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\"重命名\")])]),_vm._v(\" \"),_c('DropdownItem',{staticStyle:{\"height\":\"20px\",\"padding-top\":\"2px\",\"text-align\":\"left\"},attrs:{\"name\":'delete:'+section.id}},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('Icon',{attrs:{\"type\":\"ios-trash\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\"删除\")])])],1)],1)],1)])],1)}),_vm._v(\" \"),_c('section-create-dialog',{attrs:{\"flowID\":_vm.taskFlowID,\"sectionID\":_vm.sectionID}}),_vm._v(\" \"),_c('task-add-to-section-dialog',{attrs:{\"sectionID\":_vm.sectionID}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c8ec9b2a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/citaskflow/ci_task_flow_item/CITaskFlowItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c8ec9b2a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CITaskFlowItem.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskFlowItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskFlowItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c8ec9b2a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CITaskFlowItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c8ec9b2a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/citaskflow/ci_task_flow_item/CITaskFlowItem.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <Card  v-for=\"taskFlow in taskFlowList\" :key=\"taskFlow.flowID\" class=\"env_archive_folder\" :padding=\"0\">\n      <div class=\"env_archive_folder_header\">\n        <span class=\"pull-right\" style=\"color:#f0f0f0;padding:5px;\" >\n      <Dropdown @on-click=\"flowContextMenuClick\">\n        <i class=\"fa fa-bars fa-fw\"></i>\n        <DropdownMenu slot=\"list\">\n            <DropdownItem :name=\"'rename:'+taskFlow.flowID\" style=\"height: 20px;padding-top: 2px;text-align: left\">\n              <span style=\"margin-right: 5px;\">\n                <Icon type=\"md-create\"></Icon>\n              </span>\n              <span>重命名</span>\n            </DropdownItem>\n            <DropdownItem :name=\"'copy:'+taskFlow.flowID\" style=\"height: 20px;padding-top: 2px;text-align: left\">\n              <span style=\"margin-right: 5px;\">\n                <Icon type=\"ios-copy\"></Icon>\n              </span>\n              <span>复制</span>\n            </DropdownItem>\n             <DropdownItem :name=\"'delete:'+taskFlow.flowID\" style=\"height: 20px;padding-top: 2px; text-align: left\">\n              <span style=\"margin-right: 5px;\">\n                <Icon type=\"ios-trash\"></Icon>\n              </span>\n\n              <span>删除</span>\n            </DropdownItem>\n        </DropdownMenu>\n    </Dropdown>\n        </span>\n      </div>\n      <div class=\"env_archive_folder_body\">\n        <a v-if=\"taskFlow.taskFlowNameView\" :href=\"'/ci/taskflow/'+taskFlow.flowID\"  style=\"border:none;background-color: inherit;argin-right:auto;margin-left:auto;width:80%;margin-top:10px;font-size:6px;\">\n\t\t                  <span class=\"task-flow-title cursor-hand\" style=\"width:100%;text-decoration: underline;\">\n\t\t                    {{ taskFlow.flowName }}\n\t\t                  </span>\n        </a>\n        <div v-if=\"taskFlow.taskFlowNameEdit\">\n            <Input name=\"taskFlowName\" v-model=\"taskFlow.flowName\" size=\"small\" :maxlength=\"50\" :autofocus=\"true\" @on-blur=\"flowNameEditComplete\" style=\"width: auto;padding-top: 25px;padding-left: 30px\"></Input>\n        </div>\n      </div>\n      <div class=\"env_archive_folder_footer\">\n        <center>\n          <div class=\"env_archive_version_file\">\n            <div  href=\"#\"  style=\"color: inherit;\">\n              <Tooltip content=\"执行\">\n                <span @click=\"onStartTaskFlow(taskFlow.flowID)\"><Icon type=\"md-play\" :size=\"18\" color=\"#555\"></Icon></span>\n              </Tooltip>\n              <!--<Tooltip content=\"取消\">-->\n                <!--<Icon type=\"stop\" :size=\"18\" color=\"#555\" style=\"margin-left: 10px;\"></Icon>-->\n              <!--</Tooltip>-->\n              <!--<Tooltip content=\"配置\">-->\n                <!--<Icon type=\"android-settings\" :size=\"18\" color=\"#555\" style=\"margin-left: 10px;\"></Icon>-->\n              <!--</Tooltip>-->\n\n            </div>\n          </div>\n          <div style=\"font-size:12px; margin-top: 6px;\" v-if=\"taskFlow.lastRunTime\">\n            <Tooltip content=\"上次执行时间\">\n              <span style=\"margin-top:0px;margin-left: 0px;\" class=\"\"><Icon type=\"ios-checkmark-circle\" style=\"color:#388e83\"></Icon> {{ taskFlow.lastRunTime }}</span>\n            </Tooltip>\n          </div>\n        </center>\n\n      </div>\n    </Card>\n  </div>\n</template>\n\n<script>\n  import store from '../../../store/index.js'\n  import { mapGetters,mapMutations} from 'vuex'\n  export default {\n    name: 'ciTaskFlow',\n    data () {\n      return {\n        taskFlows: [],\n        editFlow: 0\n      }\n    },\n    computed: {\n      ...mapGetters('citaskflow', ['ciTaskFlowAdded']),\n      taskFlowList: function () {\n         if(this.ciTaskFlowAdded)\n         {\n           this.loadTaskFlows()\n           this.setCITaskFlowAdded(false)\n         }\n         return this.taskFlows\n      }\n    },\n    methods: {\n      ...mapMutations('citaskflow',['setCITaskFlowCreateDialogShow', 'setCITaskFlowAdded']),\n      flowContextMenuClick: function (itemCommand) {\n        let commandArray = itemCommand.split(':')\n        let command = commandArray[0]\n        let commandParameter = commandArray[1]\n        this.editFlow = commandParameter\n        if(command === 'rename')\n        {\n          for(let i=0;i<this.taskFlowList.length; i++)\n          {\n             if(this.taskFlowList[i].flowID+'' === commandParameter)\n             {\n               this.taskFlowList[i].taskFlowNameEdit = true\n               this.taskFlowList[i].taskFlowNameView = false\n               break\n             }\n          }\n\n        }\n\n        if(command === 'copy')\n        {\n           this.copyTaskFlow(commandParameter)\n        }\n\n        if(command === 'delete')\n        {\n          let flowName = this.findTaskFlow(commandParameter).flowName\n          this.$Modal.confirm({\n            title: '删除确认',\n            content: '<p>删除是危险操作，确认要删除任务流 ['+flowName+' ] 吗？</p>',\n            onOk: () => {\n              this.deleteTaskFlow(commandParameter)\n            },\n            onCancel: () => {\n            }\n          });\n\n        }\n      },\n\n      findTaskFlow: function (flowID) {\n        let result = null\n        for(let i=0;i<this.taskFlowList.length; i++)\n        {\n          if(this.taskFlowList[i].flowID+'' === flowID)\n          {\n            result = this.taskFlowList[i]\n            break\n          }\n        }\n        return result\n      },\n\n      copyTaskFlow: function (flowID) {\n        this.$axios.get('/api/ci/task_flow/' + flowID+'/copy').then(response => {\n          this.loadTaskFlows()\n        }, response => {\n          // error callback\n        })\n      },\n\n      deleteTaskFlow: function (flowID) {\n        this.$axios.delete('/api/ci/task_flow/' + flowID).then(response => {\n          this.loadTaskFlows()\n        }, response => {\n          // error callback\n        })\n      },\n\n      flowNameEditComplete: function () {\n        for(let i=0;i<this.taskFlowList.length; i++)\n        {\n          if(this.taskFlowList[i].flowID+'' === this.editFlow)\n          {\n            this.taskFlowList[i].taskFlowNameEdit = false\n            this.taskFlowList[i].taskFlowNameView = true\n            this.updateTaskFlowName(this.editFlow,this.taskFlowList[i].flowName)\n            this.editFlow = 0\n            break\n          }\n        }\n      },\n\n      loadTaskFlows: function () {\n        this.$axios.get('/api/ci/task_flow/my?page_size=10000').then(response => {\n          let taskFlowList = response.data.result.results\n          this.taskFlows = []\n          for (let i = 0; i < taskFlowList.length; i++)\n          {\n            this.taskFlows.push({\n              flowID: taskFlowList[i].id,\n              flowName: taskFlowList[i].FlowName,\n              lastRunTime: taskFlowList[i].LastRunTime,\n              taskFlowNameEdit: false,\n              taskFlowNameView: true\n            })\n          }\n\n        }, response => {\n          // error callback\n        })\n      },\n      updateTaskFlowName: function (flowID,name) {\n        this.$axios.patch('/api/ci/task_flow/' + flowID + '/',{'FlowName': name}).then(response => {\n        }, response => {\n          // error callback\n        })\n      },\n\n      onStartTaskFlow: function (flowID) {\n        this.$axios.get('/api/ci/task_flow/' + flowID + '/start').then(response => {\n          this.$Message.success({\n            content: response.data.result.message,\n            duration: 10\n          })\n        }, response => {\n        })\n      }\n    },\n    created: function () {\n      this.loadTaskFlows()\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  .env_archive_folder\n  {\n    border:1px solid #f0f0f0;\n    width:250px;\n    height:150px;\n    margin:10px 10px 10px 30px;\n    border-radius:5px;\n    cursor:pointer;\n    float: left;\n    padding:0px;\n  }\n\n  .env_archive_folder_header\n  {\n    height:0px;\n  }\n\n  .env_archive_folder_body\n  {\n    height:90px;\n  }\n\n  .env_archive_folder_body center\n  {\n    padding-top: 10px;\n    color:#d3d7d4;\n  }\n\n  .env_archive_folder_footer\n  {\n    border-top:1px solid #f0f0f0;\n    height:50px;\n  }\n\n  .env_archive_folder_version\n  {\n    padding:10px 5px 5px 5px;\n    font-size: 14px;\n    color: black;\n    overflow:hidden;\n\n  }\n\n  .env_archive_version_file\n  {\n    padding:5px 5px 0px 5px;\n    font-size: 14px;\n    color: black;\n    overflow:hidden;\n\n  }\n\n  .task-flow-title{\n    height: 80px;\n    width: 80px;\n    line-height: 80px;\n    display:inline-block;\n    color: #5e5e5e;\n    text-align:center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/citaskflow/CITaskFlow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.taskFlowList),function(taskFlow){return _c('Card',{key:taskFlow.flowID,staticClass:\"env_archive_folder\",attrs:{\"padding\":0}},[_c('div',{staticClass:\"env_archive_folder_header\"},[_c('span',{staticClass:\"pull-right\",staticStyle:{\"color\":\"#f0f0f0\",\"padding\":\"5px\"}},[_c('Dropdown',{on:{\"on-click\":_vm.flowContextMenuClick}},[_c('i',{staticClass:\"fa fa-bars fa-fw\"}),_vm._v(\" \"),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{staticStyle:{\"height\":\"20px\",\"padding-top\":\"2px\",\"text-align\":\"left\"},attrs:{\"name\":'rename:'+taskFlow.flowID}},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('Icon',{attrs:{\"type\":\"md-create\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\"重命名\")])]),_vm._v(\" \"),_c('DropdownItem',{staticStyle:{\"height\":\"20px\",\"padding-top\":\"2px\",\"text-align\":\"left\"},attrs:{\"name\":'copy:'+taskFlow.flowID}},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('Icon',{attrs:{\"type\":\"ios-copy\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\"复制\")])]),_vm._v(\" \"),_c('DropdownItem',{staticStyle:{\"height\":\"20px\",\"padding-top\":\"2px\",\"text-align\":\"left\"},attrs:{\"name\":'delete:'+taskFlow.flowID}},[_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('Icon',{attrs:{\"type\":\"ios-trash\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\"删除\")])])],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"env_archive_folder_body\"},[(taskFlow.taskFlowNameView)?_c('a',{staticStyle:{\"border\":\"none\",\"background-color\":\"inherit\",\"argin-right\":\"auto\",\"margin-left\":\"auto\",\"width\":\"80%\",\"margin-top\":\"10px\",\"font-size\":\"6px\"},attrs:{\"href\":'/ci/taskflow/'+taskFlow.flowID}},[_c('span',{staticClass:\"task-flow-title cursor-hand\",staticStyle:{\"width\":\"100%\",\"text-decoration\":\"underline\"}},[_vm._v(\"\\n\\t\\t                    \"+_vm._s(taskFlow.flowName)+\"\\n\\t\\t                  \")])]):_vm._e(),_vm._v(\" \"),(taskFlow.taskFlowNameEdit)?_c('div',[_c('Input',{staticStyle:{\"width\":\"auto\",\"padding-top\":\"25px\",\"padding-left\":\"30px\"},attrs:{\"name\":\"taskFlowName\",\"size\":\"small\",\"maxlength\":50,\"autofocus\":true},on:{\"on-blur\":_vm.flowNameEditComplete},model:{value:(taskFlow.flowName),callback:function ($$v) {_vm.$set(taskFlow, \"flowName\", $$v)},expression:\"taskFlow.flowName\"}})],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"env_archive_folder_footer\"},[_c('center',[_c('div',{staticClass:\"env_archive_version_file\"},[_c('div',{staticStyle:{\"color\":\"inherit\"},attrs:{\"href\":\"#\"}},[_c('Tooltip',{attrs:{\"content\":\"执行\"}},[_c('span',{on:{\"click\":function($event){_vm.onStartTaskFlow(taskFlow.flowID)}}},[_c('Icon',{attrs:{\"type\":\"md-play\",\"size\":18,\"color\":\"#555\"}})],1)])],1)]),_vm._v(\" \"),(taskFlow.lastRunTime)?_c('div',{staticStyle:{\"font-size\":\"12px\",\"margin-top\":\"6px\"}},[_c('Tooltip',{attrs:{\"content\":\"上次执行时间\"}},[_c('span',{staticStyle:{\"margin-top\":\"0px\",\"margin-left\":\"0px\"}},[_c('Icon',{staticStyle:{\"color\":\"#388e83\"},attrs:{\"type\":\"ios-checkmark-circle\"}}),_vm._v(\" \"+_vm._s(taskFlow.lastRunTime))],1)])],1):_vm._e()])],1)])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c3c0f31\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/citaskflow/CITaskFlow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c3c0f31\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CITaskFlow.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskFlow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskFlow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c3c0f31\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CITaskFlow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2c3c0f31\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/citaskflow/CITaskFlow.vue\n// module id = null\n// module chunks = ","<template>\n  <Modal :value=\"dialogShow\" title=\"日志信息\"  @on-visible-change=\"showLogInfo\"  @on-cancel=\"cancel\" :styles=\"{bottom:'20px',top: '50px',width: '80%', 'margin-left': 'auto','margin-right': 'auto'}\">\n    <div slot=\"header\" style=\"text-align:left\">\n      <span>任务ID为 [{{ taskID }}] 的任务日志</span>\n      <Checkbox v-model=\"scrollToBottom\" class=\"pull-right\" style=\"margin-right: 100px;\">默认滚动到底部</Checkbox>\n    </div>\n    <div id=\"ciLogContainer\" style=\"height: 600px;overflow-y: scroll;overflow-x: hidden;color:rgb(0, 255, 0);background-color: black;padding:20px;word-break: break-all\">\n      <div>\n        <div v-if=\"preLogLink\"><a @click=\"onViewOldLog\">查看之前的日志</a></div>\n        <div v-html=\"preLog\">{{ preLog }}</div>\n      </div>\n      <div v-html=\"log\" >{{ log }}</div>\n    </div>\n    <div slot=\"footer\">\n    </div>\n</Modal>\n</template>\n\n<script>\nimport { mapGetters, mapMutations} from 'vuex'\n\n  export default {\n    name: 'CILogShowDialog',\n    props: ['taskID','tqID','taskUUID'],\n    components: {\n    },\n    data () {\n      return {\n        log: '',\n        preLog: '',\n        preLogLink: true,\n        scrollToBottom: true\n      }\n\n    },\n    computed: {\n      ...mapGetters('citask', ['ciLogDialogShow']),\n      dialogShow: function () {\n        return this.ciLogDialogShow\n      },\n      loginfo: function () {\n        return this.log\n      }\n\n    },\n    methods:\n      {\n        ...mapMutations('citask', ['setCILogDialogShow']),\n        cancel: function () {\n          this.setCILogDialogShow(false)\n          this.preLog = ''\n          this.preLogLink = true\n        },\n        showLogInfo: function (value) {\n          let ws = new WebSocket('ws://teamcat.qyvideo.net/ws/' + this.tqID + '?subscribe-broadcast&publish-broadcast&echo')\n          if(value)\n          {\n            ws.onopen = () => {\n              console.log(\"websocket connected\")\n            }\n            ws.onmessage = evt =>  {\n              if(evt.data!=='--heartbeat--')\n              {\n                this.log = this.log + evt.data + '</br>'\n                if(this.scrollToBottom)\n                {\n                  let logConatiner = document.getElementById('ciLogContainer')\n                  logConatiner.scrollTop= logConatiner.scrollHeight\n                }\n\n              }\n            }\n\n            ws.onerror = evt =>  {\n              console.error(evt)\n            }\n            ws.onclose = evt => {\n              console.log(\"connection closed\")\n            }\n          }\n          else\n          {\n            ws.close()\n            this.log = ''\n          }\n\n        },\n\n        onViewOldLog: function () {\n          this.$axios.get('/api/ci/task/prelog/' + this.tqID).then(response => {\n            this.preLog = response.data.result.PreLog\n            this.preLogLink = false\n          }, response => {\n\n          })\n        }\n      },\n    created () {\n\n    },\n    mounted () {\n\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  .demo-upload-list{\n    display: inline-block;\n    width: 60px;\n    height: 60px;\n    text-align: center;\n    line-height: 60px;\n    border: 1px solid transparent;\n    border-radius: 4px;\n    overflow: hidden;\n    background: #fff;\n    position: relative;\n    box-shadow: 0 1px 1px rgba(0,0,0,.2);\n    margin-right: 4px;\n  }\n  .demo-upload-list img{\n    width: 100%;\n    height: 100%;\n  }\n  .demo-upload-list-cover{\n    display: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0,0,0,.6);\n  }\n  .demo-upload-list:hover .demo-upload-list-cover{\n    display: block;\n  }\n  .demo-upload-list-cover i{\n    color: #fff;\n    font-size: 20px;\n    cursor: pointer;\n    margin: 0 2px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/agent/CILogShowDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"value\":_vm.dialogShow,\"title\":\"日志信息\",\"styles\":{bottom:'20px',top: '50px',width: '80%', 'margin-left': 'auto','margin-right': 'auto'}},on:{\"on-visible-change\":_vm.showLogInfo,\"on-cancel\":_vm.cancel}},[_c('div',{staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"任务ID为 [\"+_vm._s(_vm.taskID)+\"] 的任务日志\")]),_vm._v(\" \"),_c('Checkbox',{staticClass:\"pull-right\",staticStyle:{\"margin-right\":\"100px\"},model:{value:(_vm.scrollToBottom),callback:function ($$v) {_vm.scrollToBottom=$$v},expression:\"scrollToBottom\"}},[_vm._v(\"默认滚动到底部\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"600px\",\"overflow-y\":\"scroll\",\"overflow-x\":\"hidden\",\"color\":\"rgb(0, 255, 0)\",\"background-color\":\"black\",\"padding\":\"20px\",\"word-break\":\"break-all\"},attrs:{\"id\":\"ciLogContainer\"}},[_c('div',[(_vm.preLogLink)?_c('div',[_c('a',{on:{\"click\":_vm.onViewOldLog}},[_vm._v(\"查看之前的日志\")])]):_vm._e(),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.preLog)}},[_vm._v(_vm._s(_vm.preLog))])]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.log)}},[_vm._v(_vm._s(_vm.log))])]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-151cefe6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/agent/CILogShowDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-151cefe6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CILogShowDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CILogShowDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CILogShowDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-151cefe6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CILogShowDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-151cefe6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/agent/CILogShowDialog.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <Card dis-hover :bordered=\"false\" style=\"margin-top: 10px;\">\n      <div class=\"citask-card-title\"><Icon type=\"ios-list-box-outline\" /> 任务队列</div>\n      <div>\n           <div v-for=\"queue in taskQueue\" :key=\"queue.TaskUUID\" style=\"height: 40px;border-bottom: 1px solid #f5f7f9;padding-top: 12px\">\n             <span style=\"width:70%;display: inline-block;text-align: left; padding-left: 10px;overflow: hidden; text-overflow:ellipsis; white-space: nowrap;\">\n               <Icon type=\"ios-clock-outline\" /> {{ queue.TaskName }}</span>\n             <span style=\"width:20%;display: inline-block;\">{{ queue.TriggerName }}</span>\n             <Tooltip content=\"取消任务\" style=\"width: 10%\">\n               <span style=\"width:20%;display: inline-block;\" class=\"cursor-hand\"  @click=\"cancleTask(queue.TaskID,queue.TaskUUID)\"><Icon type=\"md-close\" :size=\"18\" style=\"padding-right: 5px;\"></Icon></span>\n             </Tooltip>\n           </div>\n      </div>\n    </Card>\n     <Card dis-hover style=\"margin-top: 10px;\" :bordered=\"false\">\n      <div class=\"citask-card-title\">\n       <span><Icon type=\"md-laptop\" /> Agent</span>\n       <span style=\"margin-left: 20px;\">\n          <span ><Icon type=\"ios-ionic\" /> 离线</span>\n          <span style=\"margin-left: 20px;color:#388e8e\"><Icon type=\"ios-ionic\" /> 在线</span>\n       </span>\n      </div>\n      <div>\n        <div v-if=\"agent.RunningTasks.length >0\" v-for=\"agent in agents\" :key=\"agent.id\" style=\"border-bottom: 1px solid #f5f7f9;padding-top: 12px\">\n              <div style=\"text-align: left\">\n                  <span style=\"padding-left: 10px; padding-right: 5px;\">\n                    <Icon v-if=\"agent.Status ===2\" type=\"md-checkmark-circle-outline\" :size=\"14\" style=\"color:#388e8e\"></Icon>\n                    <Icon v-if=\"agent.Status !==2\" type=\"ios-checkmark-circle-outline\" :size=\"14\"></Icon>\n                  </span>\n                  <span style=\"padding-right: 5px;\">{{ agent.Name }}</span>\n                  <!--<span style=\"opacity: 0.5;padding-left: 8px; padding-right: 5px;font-size: 12px; color: snow; border: 1px solid #388e8e;border-radius: 10px; background: #388e8e\">VEDBuild</span>-->\n              </div>\n              <div v-for=\"task in agent.RunningTasks\" style=\"padding-left: 20px;padding-top: 10px;\">\n                <span style=\"width:60%;display: inline-block;text-align: left; padding-left: 10px;overflow: hidden; text-overflow:ellipsis; white-space: nowrap;\">\n                  <span style=\"display: block;\">{{ task.TaskName }}</span>\n                  <Progress :percent=\"task.Process\" :stroke-width=\"5\" status=\"success\" :hide-info=\"true\"></Progress>\n                </span>\n\n                <Tooltip content=\"触发着\" style=\"width:15%;\">\n                  <span style=\"width:100%;display: inline-block;\">{{ task.TriggerName }}</span>\n                </Tooltip>\n                <Tooltip content=\"点击查看日志\" style=\"width:15%;\">\n                  <span style=\"width:100%;display: inline-block;\" class=\"cursor-hand\" @click=\"showCILog(task.TaskID,task.TaskUUID,task.TQID)\">日志 </span>\n                </Tooltip>\n                <Tooltip content=\"取消任务\" style=\"width:10%;\">\n                  <span style=\"width: 100%; display: inline-block\" class=\"cursor-hand\" @click=\"cancleTask(task.TaskID,task.TaskUUID)\"><Icon type=\"md-close\" :size=\"18\" style=\"padding-right: 5px;\"></Icon></span>\n                </Tooltip>\n              </div>\n        </div>\n\n        <div v-if=\"agent.RunningTasks.length ===0\" v-for=\"agent in agents\" :key=\"agent.id\" style=\"border-bottom: 1px solid #f5f7f9;padding-top: 12px\">\n          <div style=\"text-align: left\">\n                  <span style=\"padding-left: 10px; padding-right: 5px;\">\n                    <Icon v-if=\"agent.Status ===2\" type=\"md-checkmark-circle-outline\" :size=\"14\" style=\"color:#388e8e\"></Icon>\n                    <Icon v-if=\"agent.Status !==2\" type=\"ios-checkmark-circle-outline\" :size=\"14\"></Icon>\n                  </span>\n            <span style=\"padding-right: 5px;\">{{ agent.Name }}</span>\n            <!--<span style=\"opacity: 0.5;padding-left: 8px; padding-right: 5px;font-size: 12px; color: snow; border: 1px solid #388e8e;border-radius: 10px; background: #388e8e\">VEDBuild</span>-->\n          </div>\n          <div v-for=\"task in agent.RunningTasks\" style=\"padding-left: 20px;padding-top: 10px;\">\n                <span style=\"width:60%;display: inline-block;text-align: left; padding-left: 10px;overflow: hidden; text-overflow:ellipsis; white-space: nowrap;\">\n                 {{ task.TaskName }}</span>\n            <span style=\"width:20%;display: inline-block;\" {{ task.TriggerName }}</span>\n            <span style=\"width:20%;display: inline-block;\" class=\"cursor-hand\" @click=\"showCILog(task.TaskID,task.TaskUUID,task.TQID)\">日志</span>\n          </div>\n        </div>\n\n      </div>\n\n    </Card>\n    <c-i-log-show-dialog :taskID=\"taskID\" :taskUUID=\"taskUUID\" :tqID=\"tqID\"></c-i-log-show-dialog>\n  </div>\n</template>\n\n<script>\n  import store from '../../../store/index.js'\n  import CILogShowDialog from './CILogShowDialog.vue'\n  import { mapGetters,mapMutations} from 'vuex'\n\n  export default {\n    name: 'ciAgent',\n    data () {\n      return {\n        taskQueue: [],\n        agents: [],\n        taskID: 0,\n        taskUUID: '',\n        tqID: 0\n      }\n    },\n    computed: {\n      ...mapGetters('citask', ['ciLogDialogShow']),\n    },\n    methods: {\n      ...mapMutations('citask', ['setCILogDialogShow']),\n      cancleTask: function (taskID, taskUUID) {\n        this.$axios.get('/api/ci/task_basic/' + taskID + '/stop/?TaskUUID=' + taskUUID).then(response => {\n          this.$Message.success({\n            content: response.data.result.message,\n            duration: 10\n          })\n        }, response => {\n          this.$Message.error({\n            content: response.data.result.message,\n            duration: 10\n          })\n\n        })\n      },\n\n      showCILog: function (taskID, taskUUID, tqID) {\n        this.taskID = taskID\n        this.taskUUID = taskUUID\n        this.tqID = tqID\n        console.log(this.tqID)\n        this.setCILogDialogShow(true)\n      },\n      loadTaskQueue: function () {\n        this.$axios.get('/api/common/task_queues?Status__in=1,2,3&Command=1').then(response => {\n          this.taskQueue = response.data.result\n        }, response => {\n\n        })\n        this.recivedTaskEnqueue = false\n      },\n      loadAgent: function () {\n        this.$axios.get('/api/common/agents').then(response => {\n          console.log(response)\n          this.agents = response.data.result\n        }, response => {\n\n        })\n      },\n      onReciveTaskStatusChange: function () {\n        let ws = new WebSocket('ws://teamcat.qyvideo.net/ws/TASKSTATUSCHANGE?subscribe-broadcast&publish-broadcast&echo')\n        ws.onopen = () => {\n          console.log(\"task enqueue websocket connected\")\n        }\n        ws.onmessage = evt =>  {\n          if(evt.data !== '--heartbeat--')\n          {\n            setTimeout(this.loadTaskQueue,10000)\n            setTimeout(this.loadAgent,10000)\n          }\n        }\n        ws.onerror = evt =>  {\n          console.error(evt)\n        }\n        ws.onclose = evt => {\n          console.log(\"connection closed\")\n        }\n      }\n      },\n    created: function () {\n      this.loadTaskQueue()\n      this.loadAgent()\n      this.onReciveTaskStatusChange()\n    },\n    components: {\n      CILogShowDialog\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  .citask-card-title\n  {\n    margin-left: -16px;\n    margin-right: -16px;\n    margin-top: -10px;\n    padding: 0px;\n    padding-left: 15px;\n    height: 30px;\n    text-align: left;\n    border-bottom: 1px solid #f5f7f9\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/agent/CIAgent.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Card',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"dis-hover\":\"\",\"bordered\":false}},[_c('div',{staticClass:\"citask-card-title\"},[_c('Icon',{attrs:{\"type\":\"ios-list-box-outline\"}}),_vm._v(\" 任务队列\")],1),_vm._v(\" \"),_c('div',_vm._l((_vm.taskQueue),function(queue){return _c('div',{key:queue.TaskUUID,staticStyle:{\"height\":\"40px\",\"border-bottom\":\"1px solid #f5f7f9\",\"padding-top\":\"12px\"}},[_c('span',{staticStyle:{\"width\":\"70%\",\"display\":\"inline-block\",\"text-align\":\"left\",\"padding-left\":\"10px\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"white-space\":\"nowrap\"}},[_c('Icon',{attrs:{\"type\":\"ios-clock-outline\"}}),_vm._v(\" \"+_vm._s(queue.TaskName))],1),_vm._v(\" \"),_c('span',{staticStyle:{\"width\":\"20%\",\"display\":\"inline-block\"}},[_vm._v(_vm._s(queue.TriggerName))]),_vm._v(\" \"),_c('Tooltip',{staticStyle:{\"width\":\"10%\"},attrs:{\"content\":\"取消任务\"}},[_c('span',{staticClass:\"cursor-hand\",staticStyle:{\"width\":\"20%\",\"display\":\"inline-block\"},on:{\"click\":function($event){_vm.cancleTask(queue.TaskID,queue.TaskUUID)}}},[_c('Icon',{staticStyle:{\"padding-right\":\"5px\"},attrs:{\"type\":\"md-close\",\"size\":18}})],1)])],1)}))]),_vm._v(\" \"),_c('Card',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"dis-hover\":\"\",\"bordered\":false}},[_c('div',{staticClass:\"citask-card-title\"},[_c('span',[_c('Icon',{attrs:{\"type\":\"md-laptop\"}}),_vm._v(\" Agent\")],1),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_c('span',[_c('Icon',{attrs:{\"type\":\"ios-ionic\"}}),_vm._v(\" 离线\")],1),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"20px\",\"color\":\"#388e8e\"}},[_c('Icon',{attrs:{\"type\":\"ios-ionic\"}}),_vm._v(\" 在线\")],1)])]),_vm._v(\" \"),_c('div',[_vm._l((_vm.agents),function(agent){return (agent.RunningTasks.length >0)?_c('div',{key:agent.id,staticStyle:{\"border-bottom\":\"1px solid #f5f7f9\",\"padding-top\":\"12px\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('span',{staticStyle:{\"padding-left\":\"10px\",\"padding-right\":\"5px\"}},[(agent.Status ===2)?_c('Icon',{staticStyle:{\"color\":\"#388e8e\"},attrs:{\"type\":\"md-checkmark-circle-outline\",\"size\":14}}):_vm._e(),_vm._v(\" \"),(agent.Status !==2)?_c('Icon',{attrs:{\"type\":\"ios-checkmark-circle-outline\",\"size\":14}}):_vm._e()],1),_vm._v(\" \"),_c('span',{staticStyle:{\"padding-right\":\"5px\"}},[_vm._v(_vm._s(agent.Name))])]),_vm._v(\" \"),_vm._l((agent.RunningTasks),function(task){return _c('div',{staticStyle:{\"padding-left\":\"20px\",\"padding-top\":\"10px\"}},[_c('span',{staticStyle:{\"width\":\"60%\",\"display\":\"inline-block\",\"text-align\":\"left\",\"padding-left\":\"10px\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"white-space\":\"nowrap\"}},[_c('span',{staticStyle:{\"display\":\"block\"}},[_vm._v(_vm._s(task.TaskName))]),_vm._v(\" \"),_c('Progress',{attrs:{\"percent\":task.Process,\"stroke-width\":5,\"status\":\"success\",\"hide-info\":true}})],1),_vm._v(\" \"),_c('Tooltip',{staticStyle:{\"width\":\"15%\"},attrs:{\"content\":\"触发着\"}},[_c('span',{staticStyle:{\"width\":\"100%\",\"display\":\"inline-block\"}},[_vm._v(_vm._s(task.TriggerName))])]),_vm._v(\" \"),_c('Tooltip',{staticStyle:{\"width\":\"15%\"},attrs:{\"content\":\"点击查看日志\"}},[_c('span',{staticClass:\"cursor-hand\",staticStyle:{\"width\":\"100%\",\"display\":\"inline-block\"},on:{\"click\":function($event){_vm.showCILog(task.TaskID,task.TaskUUID,task.TQID)}}},[_vm._v(\"日志 \")])]),_vm._v(\" \"),_c('Tooltip',{staticStyle:{\"width\":\"10%\"},attrs:{\"content\":\"取消任务\"}},[_c('span',{staticClass:\"cursor-hand\",staticStyle:{\"width\":\"100%\",\"display\":\"inline-block\"},on:{\"click\":function($event){_vm.cancleTask(task.TaskID,task.TaskUUID)}}},[_c('Icon',{staticStyle:{\"padding-right\":\"5px\"},attrs:{\"type\":\"md-close\",\"size\":18}})],1)])],1)})],2):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.agents),function(agent){return (agent.RunningTasks.length ===0)?_c('div',{key:agent.id,staticStyle:{\"border-bottom\":\"1px solid #f5f7f9\",\"padding-top\":\"12px\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('span',{staticStyle:{\"padding-left\":\"10px\",\"padding-right\":\"5px\"}},[(agent.Status ===2)?_c('Icon',{staticStyle:{\"color\":\"#388e8e\"},attrs:{\"type\":\"md-checkmark-circle-outline\",\"size\":14}}):_vm._e(),_vm._v(\" \"),(agent.Status !==2)?_c('Icon',{attrs:{\"type\":\"ios-checkmark-circle-outline\",\"size\":14}}):_vm._e()],1),_vm._v(\" \"),_c('span',{staticStyle:{\"padding-right\":\"5px\"}},[_vm._v(_vm._s(agent.Name))])]),_vm._v(\" \"),_vm._l((agent.RunningTasks),function(task){return _c('div',{staticStyle:{\"padding-left\":\"20px\",\"padding-top\":\"10px\"}},[_c('span',{staticStyle:{\"width\":\"60%\",\"display\":\"inline-block\",\"text-align\":\"left\",\"padding-left\":\"10px\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"white-space\":\"nowrap\"}},[_vm._v(\"\\n               \"+_vm._s(task.TaskName))]),_vm._v(\" \"),_c('span',{staticClass:\"cursor-hand\",staticStyle:{\"width\":\"20%\",\"display\":\"inline-block\"},on:{\"click\":function($event){_vm.showCILog(task.TaskID,task.TaskUUID,task.TQID)}}},[_vm._v(\"日志\")])])})],2):_vm._e()})],2)]),_vm._v(\" \"),_c('c-i-log-show-dialog',{attrs:{\"taskID\":_vm.taskID,\"taskUUID\":_vm.taskUUID,\"tqID\":_vm.tqID}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2818ae78\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/agent/CIAgent.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2818ae78\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CIAgent.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CIAgent.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CIAgent.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2818ae78\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CIAgent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2818ae78\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/agent/CIAgent.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n      <ci-task-item  v-for=\"task in myCITaskList.items\" :key=\"task.id\" :item=\"task\"></ci-task-item>\n  </div>\n</template>\n\n<script>\n  import store from '../../../store/index.js'\n  import { mapGetters,mapMutations} from 'vuex'\n  import ciTaskItem from './CITaskItem.vue'\n  export default {\n    name: 'ciTask',\n    data () {\n      return {\n        myCITask: {\n          count: 0,\n          next: '',\n          items: []\n        }\n      }\n    },\n    computed: {\n      ...mapGetters('citask',['ciTaskSearchKey','ciTaskAdded']),\n      ciTaskCount: function () {\n        return this.myCITask.count\n      },\n      myCITaskList: function () {\n         if(this.ciTaskSearchKey==='')\n         {\n           this.initCITaskStatus()\n         }\n         else\n         {\n           this.filterCITask(this.ciTaskSearchKey)\n         }\n         if(this.ciTaskAdded)\n         {\n           this.loadCITaskList()\n           this.setCITaskAdded(false)\n         }\n         return this.myCITask\n      }\n    },\n    methods: {\n      ...mapMutations('citask',['setCITaskAdded']),\n      loadCITaskList: function () {\n        this.$axios.get('/api/ci/task_basic/my?page_size=100').then(response => {\n          this.myCITask.count = response.data.result.count\n          this.myCITask.next = response.data.result.next\n          this.myCITask.items = response.data.result.results\n          this.$Spin.hide()\n        }, response => {\n          this.$Spin.hide()\n        })\n      },\n      filterCITask: function (key) {\n        this.initCITaskStatus()\n        for(let i=0;i<this.myCITask.items.length;i++)\n        {\n           let temp = this.myCITask.items[i]\n           if(temp.TaskName.toUpperCase().indexOf(key.toUpperCase())<0)\n           {\n             temp.Display = false\n             this.myCITask.count--\n           }\n        }\n\n      },\n      initCITaskStatus: function () {\n        this.myCITask.count = this.myCITask.items.length\n        for(let i=0;i<this.myCITask.items.length;i++)\n        {\n          let temp = this.myCITask.items[i]\n          temp.Display = true\n        }\n      },\n    },\n    mounted: function () {\n      if (this.ciTaskCount === 0) {\n        this.$Spin.show()\n      }\n    },\n    created: function () {\n     this.loadCITaskList()\n    },\n    watch: {\n      ciTaskCount: function () {\n        if (this.ciTaskCount !== 0) {\n          this.$Spin.hide()\n        }\n      }\n    },\n    components: {\n      ciTaskItem\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/citask/CITask.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.myCITaskList.items),function(task){return _c('ci-task-item',{key:task.id,attrs:{\"item\":task}})}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c95f901\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/citask/CITask.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c95f901\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CITask.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITask.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITask.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c95f901\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CITask.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1c95f901\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/citask/CITask.vue\n// module id = null\n// module chunks = ","//ci taks validate rule\n\nlet ciTaskValidateRules={\n  Project: [\n    { type: 'integer', required: true, message: '请选择项目或者创建项目后再创建任务！' }\n  ],\n  TaskName: [\n    { type: 'string', required: true, min: 1, max: 50, message: '标题长度必须在1-50个字符之间！', trigger: 'blur' }\n  ],\n  TaskType: [\n    { type: 'integer', required: true,message: '任务类型是必选项' }\n  ],\n  CopyTaskID: [\n    { type: 'integer',message: '请选择要复制的任务' }\n  ]\n}\n\nexport {\n  ciTaskValidateRules\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/ci/citask/CITaskCreateDialog.js","<template>\n  <Modal :value=\"ciTaskCreateDialogShow\" title=\"添加新任务\" :width=\"600\" @on-cancel=\"cancel\"   :styles=\"{bottom:'20px',top: '50px'}\">\n    <div style=\"height:600px;overflow-y: scroll;overflow-x: hidden\">\n      <Form  ref=\"ciTaskCreate\" :model=\"formItem\" :label-width=\"80\" :rules=\"ruleCustom\">\n        <FormItem label=\"项目\" prop=\"Project\">\n          <Select v-model=\"formItem.Project\" :filterable=\"true\" placeholder=\"请选择项目\">\n            <Option v-for=\"project in projects\" :key=\"project.id\" :value=\"project.id\">\n              <span style=\"margin-right: 10px;\" ><Avatar :src=\"'http://teamcat.qyvideo.net/'+project.PBAvatar\" /></span>\n              <span >{{ project.PBTitle }}</span>\n            </Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"标题\" prop=\"TaskName\">\n          <Input v-model=\"formItem.TaskName\" placeholder=\"任务名称50个字符以内！\" />\n        </FormItem>\n        <FormItem label=\"构建记录保留个数\" prop=\"HistoryCleanStrategy\">\n          <Input v-model=\"formItem.HistoryCleanStrategy\" placeholder=\"默认10个\"/>\n        </FormItem>\n        <FormItem label=\"任务类型\" prop=\"TaskType\">\n          <Select v-model=\"formItem.TaskType\" :filterable=\"true\" placeholder=\"任务类型\" @on-change=\"onTaskTypeChange\">\n            <Option  :key=\"0\" :value=\"0\">复制任务</Option>\n            <Option  :key=\"4\" :value=\"4\">构建</Option>\n            <Option :key=\"1\" :value=\"1\">测试</Option>\n            <Option  :key=\"5\" :value=\"5\">部署</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"任务列表\" v-if=\"showTaskList\" prop=\"CopyTaskID\">\n          <Select v-model=\"formItem.CopyTaskID\" :filterable=\"true\" placeholder=\"复制任务列表\">\n            <Option v-for=\"task in ciTaskList\" :key=\"task.id\" :value=\"task.id\">{{ task.TaskName }}</Option>\n          </Select>\n        </FormItem>\n      </Form>\n    </div>\n    <div slot=\"footer\">\n      <Button v-if=\"ciTaskCreateDialogShow\" type=\"success\"  style=\"width: 80px; height:30px;\" shape=\"circle\" @click=\"addCITask('ciTaskCreate')\">添加</Button>\n      <!--<Button type=\"ghost\"  style=\"width: 80px; height:30px;\"  shape=\"circle\" @click=\"cancel\">取消</Button>-->\n    </div>\n</Modal>\n</template>\n\n<script>\nimport { mapGetters,mapMutations } from 'vuex'\nimport { ciTaskValidateRules } from './CITaskCreateDialog'\nimport FormItem from '../../../../node_modules/iview/src/components/form/form-item.vue'\n\n  export default {\n    name: 'CITaskCreateDialog',\n    data () {\n      return {\n        projects: [],\n        ciTaskList: [],\n        showTaskList: true,\n        formItem: {\n          CopyTaskID: 0,\n          TaskName: '',\n          Project: 0,\n          TaskType: 0,\n          HistoryCleanStrategy: 10\n        },\n        ruleCustom: {\n          ...ciTaskValidateRules\n        }\n      }\n\n    },\n    computed: {\n      ...mapGetters('citask',['ciTaskCreateDialogShow']),\n    },\n    methods:\n      {\n        ...mapMutations('citask',['setCITaskCreateDialogShow','setCITaskAdded']),\n\n        addCITask (name) {\n          this.$refs[name].validate((valid) => {\n            if (valid) {\n\n              this.$axios.post('/api/ci/task_basic/list', this.formItem).then(response => {\n                this.setCITaskCreateDialogShow(false)\n                this.setCITaskAdded(true)\n              }, response => {\n                this.setCITaskCreateDialogShow(false)\n                this.$Message.error({\n                  content: '创建任务失败，请联系管理员或者重试',\n                  duration: 10\n                })\n              })\n\n            }\n          })\n        },\n        cancel () {\n          this.setCITaskCreateDialogShow(false)\n        },\n\n        onTaskTypeChange: function (value) {\n          if ( value ===0 )\n          {\n            this.showTaskList = true\n          }\n          else\n          {\n            this.showTaskList = false\n          }\n\n        },\n\n        loadMyProject: function () {\n          this.$axios.get('/api/project/list?extinfo=1&home=1').then(response => {\n            this.projects=response.data.result\n          }, response => {\n            // error callback\n          })\n        },\n\n        loadMyCITasks: function () {\n          this.$axios.get('/api/ci/task_basic/my?page_size=10000').then(response => {\n            this.ciTaskList=response.data.result.results\n          }, response => {\n            // error callback\n          })\n        }\n\n      },\n    created () {\n      this.loadMyProject()\n      this.loadMyCITasks()\n    },\n    mounted () {\n\n    },\n    watch: {\n\n    },\n    components: {\n      FormItem\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/citask/CITaskCreateDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"value\":_vm.ciTaskCreateDialogShow,\"title\":\"添加新任务\",\"width\":600,\"styles\":{bottom:'20px',top: '50px'}},on:{\"on-cancel\":_vm.cancel}},[_c('div',{staticStyle:{\"height\":\"600px\",\"overflow-y\":\"scroll\",\"overflow-x\":\"hidden\"}},[_c('Form',{ref:\"ciTaskCreate\",attrs:{\"model\":_vm.formItem,\"label-width\":80,\"rules\":_vm.ruleCustom}},[_c('FormItem',{attrs:{\"label\":\"项目\",\"prop\":\"Project\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"请选择项目\"},model:{value:(_vm.formItem.Project),callback:function ($$v) {_vm.$set(_vm.formItem, \"Project\", $$v)},expression:\"formItem.Project\"}},_vm._l((_vm.projects),function(project){return _c('Option',{key:project.id,attrs:{\"value\":project.id}},[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_c('Avatar',{attrs:{\"src\":'http://teamcat.qyvideo.net/'+project.PBAvatar}})],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(project.PBTitle))])])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"标题\",\"prop\":\"TaskName\"}},[_c('Input',{attrs:{\"placeholder\":\"任务名称50个字符以内！\"},model:{value:(_vm.formItem.TaskName),callback:function ($$v) {_vm.$set(_vm.formItem, \"TaskName\", $$v)},expression:\"formItem.TaskName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"构建记录保留个数\",\"prop\":\"HistoryCleanStrategy\"}},[_c('Input',{attrs:{\"placeholder\":\"默认10个\"},model:{value:(_vm.formItem.HistoryCleanStrategy),callback:function ($$v) {_vm.$set(_vm.formItem, \"HistoryCleanStrategy\", $$v)},expression:\"formItem.HistoryCleanStrategy\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"任务类型\",\"prop\":\"TaskType\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"任务类型\"},on:{\"on-change\":_vm.onTaskTypeChange},model:{value:(_vm.formItem.TaskType),callback:function ($$v) {_vm.$set(_vm.formItem, \"TaskType\", $$v)},expression:\"formItem.TaskType\"}},[_c('Option',{key:0,attrs:{\"value\":0}},[_vm._v(\"复制任务\")]),_vm._v(\" \"),_c('Option',{key:4,attrs:{\"value\":4}},[_vm._v(\"构建\")]),_vm._v(\" \"),_c('Option',{key:1,attrs:{\"value\":1}},[_vm._v(\"测试\")]),_vm._v(\" \"),_c('Option',{key:5,attrs:{\"value\":5}},[_vm._v(\"部署\")])],1)],1),_vm._v(\" \"),(_vm.showTaskList)?_c('FormItem',{attrs:{\"label\":\"任务列表\",\"prop\":\"CopyTaskID\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"复制任务列表\"},model:{value:(_vm.formItem.CopyTaskID),callback:function ($$v) {_vm.$set(_vm.formItem, \"CopyTaskID\", $$v)},expression:\"formItem.CopyTaskID\"}},_vm._l((_vm.ciTaskList),function(task){return _c('Option',{key:task.id,attrs:{\"value\":task.id}},[_vm._v(_vm._s(task.TaskName))])}))],1):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.ciTaskCreateDialogShow)?_c('Button',{staticStyle:{\"width\":\"80px\",\"height\":\"30px\"},attrs:{\"type\":\"success\",\"shape\":\"circle\"},on:{\"click\":function($event){_vm.addCITask('ciTaskCreate')}}},[_vm._v(\"添加\")]):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f4b02b92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/citask/CITaskCreateDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f4b02b92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CITaskCreateDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskCreateDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskCreateDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f4b02b92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CITaskCreateDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f4b02b92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/citask/CITaskCreateDialog.vue\n// module id = null\n// module chunks = ","//ci taskflow form validate rule\n\nlet ciTaskFlowValidateRules={\n  Project: [\n    { type: 'integer', required: true, message: '请选择项目或者创建项目后再创建任务流！' }\n  ],\n  FlowName: [\n    { type: 'string', required: true, min: 1, max: 50, message: '标题长度必须在1-50个字符之间！', trigger: 'blur' }\n  ],\n  Description: [\n    { type: 'string', required: false, max: 50, message: '描述信息长度不超过200个字符！', trigger: 'blur' }\n  ]\n}\n\nexport {\n  ciTaskFlowValidateRules\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/ci/citaskflow/CITaskFlowCreateDialog.js","<template>\n  <Modal :value=\"ciTaskFlowCreateDialogShow\" title=\"添加新任务流\" :width=\"600\"  @on-cancel=\"cancel\"   :styles=\"{bottom:'20px',top: '50px'}\">\n    <div style=\"height:400px;overflow-y: scroll;overflow-x: hidden\">\n      <Form  ref=\"ciTaskFlowCreate\" :model=\"formItem\" :label-width=\"80\" :rules=\"ruleCustom\">\n        <FormItem label=\"项目\" prop=\"Project\">\n          <Select v-model=\"formItem.Project\" :filterable=\"true\" placeholder=\"请选择项目\">\n            <Option v-for=\"project in projects\" :key=\"project.id\" :value=\"project.id\">\n              <span style=\"margin-right: 10px;\" ><Avatar :src=\"'http://teamcat.qyvideo.net/'+project.PBAvatar\" /></span>\n              <span >{{ project.PBTitle }}</span>\n            </Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"标题\" prop=\"FlowName\">\n          <Input v-model=\"formItem.FlowName\" placeholder=\"任务流名称50个字符以内！\" />\n        </FormItem>\n\n        <!--<FormItem label=\"描述\" prop=\"Description\">-->\n          <!--<Input v-model=\"formItem.Description\" type=\"textarea\" :rows=\"4\" placeholder=\"200个字以内的描述！\" />-->\n        <!--</FormItem>-->\n\n        <FormItem label=\"添加任务\"  prop=\"FlowTaskList\">\n          <Transfer :data=\"ciTaskTransfer.ciTasks\" :target-keys=\"ciTaskTransfer.targetKeys\" :render-format=\"transferRender\" :filterable=\"true\" :filter-method=\"transferFilterMethod\"\n            @on-change=\"moveCITasks\" :titles=\"ciTaskTransfer.titles\" :list-style=\"ciTaskTransfer.listStyle\"></Transfer>\n        </FormItem>\n      </Form>\n    </div>\n    <div slot=\"footer\">\n      <Button v-if=\"ciTaskFlowCreateDialogShow\" type=\"success\"  style=\"width: 80px; height:30px;\" shape=\"circle\" @click=\"addCITaskFlow('ciTaskFlowCreate')\">添加</Button>\n    </div>\n</Modal>\n</template>\n\n<script>\nimport { mapGetters,mapMutations } from 'vuex'\nimport { ciTaskFlowValidateRules } from './CITaskFlowCreateDialog'\nimport FormItem from '../../../../node_modules/iview/src/components/form/form-item.vue'\n\n  export default {\n    name: 'CITaskFlowCreateDialog',\n    data () {\n      return {\n        projects: [],\n        ciTaskTransfer: {\n          ciTasks: [],\n          targetKeys: [],\n          titles: ['我的任务', '添加的任务'],\n          listStyle: {\n            height: '249px'\n          }\n        },\n        formItem: {\n          FlowName: '',\n          Project: 0,\n//          Description: '工作流描述',\n          CITasks: []\n        },\n        ruleCustom: {\n          ...ciTaskFlowValidateRules\n        }\n      }\n\n    },\n    computed: {\n      ...mapGetters('citaskflow',['ciTaskFlowCreateDialogShow']),\n    },\n    methods:\n      {\n        ...mapMutations('citaskflow',['setCITaskFlowCreateDialogShow', 'setCITaskFlowAdded']),\n        addCITaskFlow (name) {\n          this.$refs[name].validate((valid) => {\n            if (valid) {\n\n              this.$axios.post('/api/ci/task_flow/list', this.formItem).then(response => {\n                this.setCITaskFlowCreateDialogShow(false)\n                this.setCITaskFlowAdded(true)\n              }, response => {\n                this.setCITaskFlowCreateDialogShow(false)\n                this.$Message.error({\n                  content: '创建任务流失败，请联系管理员或者重试',\n                  duration: 10\n                })\n              })\n\n            }\n          })\n        },\n        cancel () {\n          this.setCITaskFlowCreateDialogShow(false)\n        },\n        transferRender: function (item) {\n          return item.label\n        },\n        moveCITasks (newTargetKeys) {\n          this.ciTaskTransfer.targetKeys = newTargetKeys\n          this.formItem.CITasks = newTargetKeys\n          console.log(this.formItem)\n        },\n        transferFilterMethod (data, query) {\n          return data.label.toUpperCase().indexOf(query.toUpperCase()) > -1\n        },\n        loadMyCITasks: function () {\n          this.$axios.get('/api/ci/task_basic/my?page_size=10000').then(response => {\n            let ciTaskList = response.data.result.results\n            for (let i = 0; i < ciTaskList.length; i++)\n            {\n              this.ciTaskTransfer.ciTasks.push({\n                key: ciTaskList[i].id,\n                label: ciTaskList[i].TaskName,\n                description: ciTaskList[i].Description\n              })\n            }\n\n          }, response => {\n            // error callback\n          })\n        },\n        loadFlowCITasks: function () {\n\n        },\n\n        loadMyProject: function () {\n          this.$axios.get('/api/project/list?extinfo=1&home=1').then(response => {\n            this.projects=response.data.result\n          }, response => {\n            // error callback\n          })\n        },\n\n      },\n    created: function () {\n      this.loadMyCITasks()\n      this.loadFlowCITasks()\n      this.loadMyProject()\n    },\n    mounted () {\n\n    },\n    watch: {\n\n    },\n    components: {\n      FormItem\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/citaskflow/CITaskFlowCreateDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"value\":_vm.ciTaskFlowCreateDialogShow,\"title\":\"添加新任务流\",\"width\":600,\"styles\":{bottom:'20px',top: '50px'}},on:{\"on-cancel\":_vm.cancel}},[_c('div',{staticStyle:{\"height\":\"400px\",\"overflow-y\":\"scroll\",\"overflow-x\":\"hidden\"}},[_c('Form',{ref:\"ciTaskFlowCreate\",attrs:{\"model\":_vm.formItem,\"label-width\":80,\"rules\":_vm.ruleCustom}},[_c('FormItem',{attrs:{\"label\":\"项目\",\"prop\":\"Project\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"请选择项目\"},model:{value:(_vm.formItem.Project),callback:function ($$v) {_vm.$set(_vm.formItem, \"Project\", $$v)},expression:\"formItem.Project\"}},_vm._l((_vm.projects),function(project){return _c('Option',{key:project.id,attrs:{\"value\":project.id}},[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_c('Avatar',{attrs:{\"src\":'http://teamcat.qyvideo.net/'+project.PBAvatar}})],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(project.PBTitle))])])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"标题\",\"prop\":\"FlowName\"}},[_c('Input',{attrs:{\"placeholder\":\"任务流名称50个字符以内！\"},model:{value:(_vm.formItem.FlowName),callback:function ($$v) {_vm.$set(_vm.formItem, \"FlowName\", $$v)},expression:\"formItem.FlowName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"添加任务\",\"prop\":\"FlowTaskList\"}},[_c('Transfer',{attrs:{\"data\":_vm.ciTaskTransfer.ciTasks,\"target-keys\":_vm.ciTaskTransfer.targetKeys,\"render-format\":_vm.transferRender,\"filterable\":true,\"filter-method\":_vm.transferFilterMethod,\"titles\":_vm.ciTaskTransfer.titles,\"list-style\":_vm.ciTaskTransfer.listStyle},on:{\"on-change\":_vm.moveCITasks}})],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.ciTaskFlowCreateDialogShow)?_c('Button',{staticStyle:{\"width\":\"80px\",\"height\":\"30px\"},attrs:{\"type\":\"success\",\"shape\":\"circle\"},on:{\"click\":function($event){_vm.addCITaskFlow('ciTaskFlowCreate')}}},[_vm._v(\"添加\")]):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b466dee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/citaskflow/CITaskFlowCreateDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3b466dee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CITaskFlowCreateDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskFlowCreateDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CITaskFlowCreateDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3b466dee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CITaskFlowCreateDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3b466dee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/citaskflow/CITaskFlowCreateDialog.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"ci-task-container\">\n    <Row :gutter=\"16\">\n      <Col :lg=\"16\" :md=\"16\" :sm=\"12\" :xs=\"24\" :style=\"'height:'+taskContainerHeight+'px'+'; overflow-y:scroll;'\">\n      <div>\n           <ci-task-flow v-if=\"menuItem ==='taskflow'\"></ci-task-flow>\n           <ci-task v-if=\"menuItem ==='task'\"></ci-task>\n           <ci-task-flow-item v-if=\"flowID !== ''\" :taskFlowID=\"flowID\"></ci-task-flow-item>\n      </div>\n      </Col>\n      <Col :lg=\"8\" :md=\"8\" :sm=\"12\" :xs=\"0\" :style=\"'height:'+agentContainerHeight+'px'+'; overflow-y:scroll;'\">\n      <div >\n           <ci-agent></ci-agent>\n      </div>\n      </Col>\n    </Row>\n    <c-i-task-create-dialog></c-i-task-create-dialog>\n    <c-i-task-flow-create-dialog></c-i-task-flow-create-dialog>\n  </div>\n\n</template>\n\n<script>\n  import store from '../../store/index.js'\n  import { mapGetters,mapMutations} from 'vuex'\n  import ciTaskFlow from './citaskflow/CITaskFlow.vue'\n  import ciAgent from './agent/CIAgent.vue'\n  import ciTask from './citask/CITask.vue'\n  import ciTaskFlowItem from './citaskflow/ci_task_flow_item/CITaskFlowItem.vue'\n  import CITaskCreateDialog from './citask/CITaskCreateDialog.vue'\n  import CITaskFlowCreateDialog from './citaskflow/CITaskFlowCreateDialog.vue'\n  export default {\n    name: 'ciTaskContainer',\n    props: ['menuItem', 'flowID'],\n    data () {\n      return {\n        toDoSummary: {\n          taskCount: 0,\n          issueCount: 0,\n          fortestingCount: 0,\n        },\n        activeProject: [],\n        activity: {\n          next: '',\n          data: [],\n          count: 0\n        }\n      }\n    },\n    computed: {\n      ...mapGetters(['appBodyHeight']),\n      taskContainerHeight: function () {\n        return  this.appBodyHeight - 33\n      },\n      agentContainerHeight: function () {\n        return this.appBodyHeight - 33\n      }\n    },\n    components: {\n\n      CITaskFlowCreateDialog,\n      CITaskCreateDialog,\n      ciAgent,\n      ciTaskFlow,\n      ciTask,\n      ciTaskFlowItem\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  .ci-task-container{\n    padding-left:20px;\n    padding-right:20px;\n\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/CI.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ci-task-container\"},[_c('Row',{attrs:{\"gutter\":16}},[_c('Col',{style:('height:'+_vm.taskContainerHeight+'px'+'; overflow-y:scroll;'),attrs:{\"lg\":16,\"md\":16,\"sm\":12,\"xs\":24}},[_c('div',[(_vm.menuItem ==='taskflow')?_c('ci-task-flow'):_vm._e(),_vm._v(\" \"),(_vm.menuItem ==='task')?_c('ci-task'):_vm._e(),_vm._v(\" \"),(_vm.flowID !== '')?_c('ci-task-flow-item',{attrs:{\"taskFlowID\":_vm.flowID}}):_vm._e()],1)]),_vm._v(\" \"),_c('Col',{style:('height:'+_vm.agentContainerHeight+'px'+'; overflow-y:scroll;'),attrs:{\"lg\":8,\"md\":8,\"sm\":12,\"xs\":0}},[_c('div',[_c('ci-agent')],1)])],1),_vm._v(\" \"),_c('c-i-task-create-dialog'),_vm._v(\" \"),_c('c-i-task-flow-create-dialog')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-63fb968c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/CI.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63fb968c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CI.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CI.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CI.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63fb968c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CI.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-63fb968c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/CI.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}