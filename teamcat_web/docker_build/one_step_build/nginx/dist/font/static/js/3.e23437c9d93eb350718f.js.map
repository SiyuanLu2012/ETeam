{"version":3,"sources":["webpack:///src/views/ci/citaskflow/ci_task_flow_item/Head.vue","webpack:///./src/views/ci/citaskflow/ci_task_flow_item/Head.vue?4c62","webpack:///./src/views/ci/citaskflow/ci_task_flow_item/Head.vue"],"names":["flowID","taskFlowName","methods","extends_default","Object","vuex_esm","_this","this","results","_this2","result","FlowName","i","loadMyTaskFlows","ci_task_flow_item_Head","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","lg","md","sm","xs","staticStyle","width","trigger","href","type","size","_v","max-height","overflow-y","slot","key","to","tag","text-align","height","display","padding-top","_l","flow","id","_s","padding-left","padding-right","exact","active-class","currentTaskFlowName","margin-left","on","click","onAddSection","content","background-color","icon","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","Head","ssrContext","__webpack_exports__"],"mappings":"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","file":"font/static/js/3.e23437c9d93eb350718f.js","sourcesContent":["<template>\n  <div class=\"app-body-head-default\">\n  <div class=\"app-body-header-bar-default\">\n          <Row>\n            <Col :lg=\"16\" :md=\"14\" :sm=\"16\" :xs=\"16\">\n            <div class=\"app-body-header-leftbar-default\">\n              <ul class=\"app-body-head-menu\">\n                <li class=\"app-body-head-menu-item\" style=\"width: 50px;\">\n                  <Dropdown trigger=\"click\">\n                    <a href=\"javascript:void(0)\">\n                      <!--<Tooltip content=\"点击切换任务流\" placement=\"bottom-end\" style=\"text-overflow: ellipsis;overflow: hidden;max-width: 300px;white-space:nowrap;\">-->\n                      <Icon type=\"md-reorder\" :size=\"24\"/>\n                      <!--</Tooltip>-->\n                    </a>\n                    <DropdownMenu slot=\"list\" style=\"max-height: 400px;overflow-y: scroll\">\n                      <DropdownItem  key=\"default_return\">\n                        <router-link to=\"/ci/taskflow\" tag=\"li\">\n                          <a href=\"#\"  style=\"text-align: left;height: 30px;display: block;padding-top:5px;\"><Icon type=\"ios-exit\" /> 返回任务流</a>\n                        </router-link>\n                      </DropdownItem>\n                      <DropdownItem  v-for=\"flow in myTaskFlows\" :key=\"flow.id\">\n                        <router-link :to=\"'/ci/taskflow/'+flow.id\" tag=\"li\">\n                          <a href=\"#\"  style=\"text-align: left;height: 30px;display: block;padding-top:5px;\"><Icon type=\"ios-folder\"></Icon> {{ flow.FlowName }}</a>\n                        </router-link>\n                      </DropdownItem>\n                    </DropdownMenu>\n                  </Dropdown>\n                </li>\n                <router-link :to=\"'/ci/taskflow/'+flowID\" tag=\"li\"  exact active-class=\"app-body-head-menu-item-active\" class=\"app-body-head-menu-item\" style=\"width: auto;padding-left:10px;padding-right: 10px;\">\n                  <a>{{ currentTaskFlowName }}</a>\n                </router-link>\n                <!--<router-link to=\"/ci/taskflow\" tag=\"li\" exact-active-class=\"app-body-head-menu-item-active\" class=\"app-body-head-menu-item\">-->\n                  <!--<a href=\"/ci/taskflow\"><i class=\"fa fa-fw  fa-bus\"></i>任务流</a>-->\n                <!--</router-link>-->\n                <router-link :to=\"'/ci/taskflow/'+flowID+'/history'\" tag=\"li\" active-class=\"app-body-head-menu-item-active\" class=\"app-body-head-menu-item\" style=\"margin-left: 10px;\">\n                  <a href=\"/ci/taskflow/12/history\"><i class=\"fa fa-fw  fa-bus\"></i>执行记录</a>\n                </router-link>\n                <!--<li class=\"app-body-head-menu-item\">-->\n                  <!--<a href=\"http://teamcat.qyvideo.net/ci/settings/global_variable\"><i class=\"fa fa-fw  fa-bus\"></i>设置</a>-->\n                <!--</li>-->\n              </ul>\n            </div>\n            </Col>\n            <Col :lg=\"4\" :md=\"4\" :sm=\"0\" :xs=\"0\">\n            <div style=\"padding-top:20px;height: inherit\">\n              <!--<Select   v-model=\"selectedTaskFlow\" :transfer=\"true\" size=\"small\" style=\"width:200px\"  :filterable=\"true\">-->\n                <!--<Option :value=\"1\" label=\"s\">-->\n                  <!--s </Option>-->\n              <!--</Select>-->\n            </div>\n            </Col>\n            <Col :lg=\"4\" :md=\"6\" :sm=\"8\" :xs=\"8\">\n            <div class=\"app-body-header-rightbar-default\" style=\"padding-top: 15px;height: inherit\">\n              <span  @click=\"onAddSection\" v-if=\"showNewButton\">\n                <Tooltip content=\"添加工作流阶段\">\n                    <Avatar class=\"cursor-hand\" style=\"background-color: #32be77;\" icon=\"md-add\"  />\n                </Tooltip>\n              </span>\n            </div>\n          </Col>\n          </Row>\n  </div>\n  </div>\n</template>\n\n<script>\nimport store from '../../../../store/index.js'\nimport { mapMutations} from 'vuex'\n\n  export default {\n    name: 'CIHead',\n    props: ['flowID'],\n    data () {\n      return {\n         themeLight: 'light',\n         myTaskFlows: [],\n         currentTaskFlow: null,\n         taskFlowName: '',\n         hasTasks: false\n\n      }\n    },\n    computed: {\n      currentTaskFlowName: function () {\n        this.loadSelectTaskFlow(this.flowID)\n        return this.taskFlowName\n      },\n      showNewButton: function () {\n        if (this.$route.name === 'ciTaskFlowItem') {\n          return true\n        }\n        else {\n          return false\n        }\n    }},\n\n    methods: {\n      ...mapMutations('citaskflow', ['setAddedSectionDialogShow']),\n      loadMyTaskFlows: function () {\n        this.$axios.get('/api/ci/task_flow/my?page_size=10000').then(response => {\n          this.myTaskFlows = response.data.result.results\n        }, response => {\n          // error callback\n        })\n      },\n      loadSelectTaskFlow: function (flowID) {\n        this.$axios.get('/api/ci/task_flow/' + flowID + '/').then(response => {\n          this.currentTaskFlow = response.data.result\n          this.taskFlowName = this.currentTaskFlow.FlowName\n          for(let i=0; i<this.currentTaskFlow.Sections.length;i++)\n          {\n             if(this.currentTaskFlow.Sections[i].CITaskIDs.length>0)\n             {\n               this.hasTasks = true\n             }\n             else\n             {\n               this.hasTasks = false\n             }\n          }\n        }, response => {\n          // error callback\n        })\n      },\n      onAddSection: function () {\n        this.setAddedSectionDialogShow(true)\n      }\n\n    },\n    created: function () {\n      this.loadMyTaskFlows()\n      this.loadSelectTaskFlow(this.flowID)\n    },\n    components: {}\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n@import '../../../../components/layout/appBody';\n@import '../../../../components/layout/appHead';\n@import '../../../../assets/teamcat/global/less/global';\n.demo-auto-complete-item{\n  padding: 4px 0;\n  border-bottom: 1px solid #F6F6F6;\n}\n.demo-auto-complete-group{\n  font-size: 12px;\n  padding: 4px 6px;\n}\n.demo-auto-complete-group span{\n  color: #666;\n  font-weight: bold;\n}\n.demo-auto-complete-group a{\n  float: right;\n}\n.demo-auto-complete-count{\n  float: right;\n  color: #999;\n}\n.demo-auto-complete-more {\n  display: block;\n  margin: 0 auto;\n  padding: 4px;\n  text-align: center;\n  font-size: 12px;\n}\n.demo-auto-complete-title{\n  color:inherit;\n  padding-left:20px;\n}\n.task-search-itemgroup-badge\n{\n  background-color: #388E8E!important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ci/citaskflow/ci_task_flow_item/Head.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-body-head-default\"},[_c('div',{staticClass:\"app-body-header-bar-default\"},[_c('Row',[_c('Col',{attrs:{\"lg\":16,\"md\":14,\"sm\":16,\"xs\":16}},[_c('div',{staticClass:\"app-body-header-leftbar-default\"},[_c('ul',{staticClass:\"app-body-head-menu\"},[_c('li',{staticClass:\"app-body-head-menu-item\",staticStyle:{\"width\":\"50px\"}},[_c('Dropdown',{attrs:{\"trigger\":\"click\"}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"}},[_c('Icon',{attrs:{\"type\":\"md-reorder\",\"size\":24}})],1),_vm._v(\" \"),_c('DropdownMenu',{staticStyle:{\"max-height\":\"400px\",\"overflow-y\":\"scroll\"},attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{key:\"default_return\"},[_c('router-link',{attrs:{\"to\":\"/ci/taskflow\",\"tag\":\"li\"}},[_c('a',{staticStyle:{\"text-align\":\"left\",\"height\":\"30px\",\"display\":\"block\",\"padding-top\":\"5px\"},attrs:{\"href\":\"#\"}},[_c('Icon',{attrs:{\"type\":\"ios-exit\"}}),_vm._v(\" 返回任务流\")],1)])],1),_vm._v(\" \"),_vm._l((_vm.myTaskFlows),function(flow){return _c('DropdownItem',{key:flow.id},[_c('router-link',{attrs:{\"to\":'/ci/taskflow/'+flow.id,\"tag\":\"li\"}},[_c('a',{staticStyle:{\"text-align\":\"left\",\"height\":\"30px\",\"display\":\"block\",\"padding-top\":\"5px\"},attrs:{\"href\":\"#\"}},[_c('Icon',{attrs:{\"type\":\"ios-folder\"}}),_vm._v(\" \"+_vm._s(flow.FlowName))],1)])],1)})],2)],1)],1),_vm._v(\" \"),_c('router-link',{staticClass:\"app-body-head-menu-item\",staticStyle:{\"width\":\"auto\",\"padding-left\":\"10px\",\"padding-right\":\"10px\"},attrs:{\"to\":'/ci/taskflow/'+_vm.flowID,\"tag\":\"li\",\"exact\":\"\",\"active-class\":\"app-body-head-menu-item-active\"}},[_c('a',[_vm._v(_vm._s(_vm.currentTaskFlowName))])]),_vm._v(\" \"),_c('router-link',{staticClass:\"app-body-head-menu-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":'/ci/taskflow/'+_vm.flowID+'/history',\"tag\":\"li\",\"active-class\":\"app-body-head-menu-item-active\"}},[_c('a',{attrs:{\"href\":\"/ci/taskflow/12/history\"}},[_c('i',{staticClass:\"fa fa-fw  fa-bus\"}),_vm._v(\"执行记录\")])])],1)])]),_vm._v(\" \"),_c('Col',{attrs:{\"lg\":4,\"md\":4,\"sm\":0,\"xs\":0}},[_c('div',{staticStyle:{\"padding-top\":\"20px\",\"height\":\"inherit\"}})]),_vm._v(\" \"),_c('Col',{attrs:{\"lg\":4,\"md\":6,\"sm\":8,\"xs\":8}},[_c('div',{staticClass:\"app-body-header-rightbar-default\",staticStyle:{\"padding-top\":\"15px\",\"height\":\"inherit\"}},[(_vm.showNewButton)?_c('span',{on:{\"click\":_vm.onAddSection}},[_c('Tooltip',{attrs:{\"content\":\"添加工作流阶段\"}},[_c('Avatar',{staticClass:\"cursor-hand\",staticStyle:{\"background-color\":\"#32be77\"},attrs:{\"icon\":\"md-add\"}})],1)],1):_vm._e()])])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5bfffaea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ci/citaskflow/ci_task_flow_item/Head.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5bfffaea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Head.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Head.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Head.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5bfffaea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Head.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5bfffaea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ci/citaskflow/ci_task_flow_item/Head.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}